<!DOCTYPE html>
<html lang="pt">







<head>
  <title>Apache Pulsar Reference Guide - 3.8 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com https://ajax.googleapis.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />

  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.8/guides/pulsar" />
  <meta property="og:title" content="Apache Pulsar Reference Guide - 3.8" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/pulsar">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/3.8/guides/pulsar" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/3.8/guides/pulsar" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/3.8/guides/pulsar" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/3.8/guides/pulsar" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/3.8/guides/pulsar" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/version/3.8/guides/pulsar">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">O QUE É QUARKUS?</a></li>
          <li><a href="/developer-joy" class="">ALEGRIA DO DESENVOLVEDOR</a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVO</a></li>
          <li><a href="/standards" class="">PADRÕES</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">CONTAINER PRIMEIRO</a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">COMEÇAR</a></li>
          <li><a href="/guides" class="active">DOCUMENTAÇÃO</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">VÍDEOS "Q" TIP</a></li>          
          <li><a href="/books" class="">LIVROS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">PROCURAR EXTENSÕES</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USAR
EXTENSÕES</a></li>
          <li><a href="/guides/writing-extensions" class="">CRIAR
EXTENSÕES</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">COMPARTILHE EXTENSÕES</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPORTE</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSÃO</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTOS</a></li>
          <li><a href="/newsletter" class="">BOLETIM INFORMATIVO</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">COMECE
A CODIFICAR</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.8/guides/pulsar" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.8/guides/pulsar">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/3.8/guides/pulsar">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.8/guides/pulsar">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.8/guides/pulsar">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    





<section class="full-width-version-bg flexfilterbar guides">
    <div class="guideflexcontainer">
        <div class="docslink">
            <a class="returnlink" href="/version/3.8/guides/"> Voltar aos Guias</a>
        </div>
        <div class="flexlabel">
            <label>Por Versão</label>
        </div>
        <div class="guidepulldown version">
            <select id="guide-version-dropdown">
                
                
                
                <option value="main" >Main - SNAPSHOT</option>
                
                
                
                <option value="latest" >3.32.1 - Latest</option>
                
                
                
                <option value="3.27" >3.27</option>
                
                
                
                <option value="3.20" >3.20</option>
                
                
                
                <option value="3.15" >3.15</option>
                
                
                
                <option value="3.8" selected>3.8</option>
                </select>
        </div>
    </div>
</section>

<div class="guide">
    <div class="grid-wrapper">
        <div class="grid__item width-8-12 width-12-12-m">
            <h1 class="text-caps">Apache Pulsar Reference Guide </h1>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This reference guide demonstrates how your Quarkus application can utilize SmallRye Reactive Messaging to interact with Apache Pulsar.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introdução</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://pulsar.apache.org">Apache Pulsar</a> is an open-source, distributed messaging and streaming platform built for the cloud.
It provides a multi-tenant, high-performance solution to server messaging with tiered storage capabilities.</p>
</div>
<div class="paragraph">
<p>Pulsar implements the publish-subscribe pattern:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Producers publish messages to <em>topics</em>.</p>
</li>
<li>
<p>Consumers create <em>subscriptions</em> to those topics to receive and process incoming messages, and send <em>acknowledgments</em> to the broker when processing is finished.</p>
</li>
<li>
<p>When a subscription is created, Pulsar retains all messages, even if the consumer is disconnected.
The retained messages are discarded only when a consumer acknowledges that all these messages are processed successfully.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Pulsar cluster consists of</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One or more <em>brokers</em>, which are stateless components.</p>
</li>
<li>
<p>A <em>metadata store</em> for maintaining topic metadata, schema, coordination and cluster configuration.</p>
</li>
<li>
<p>A set of <em>bookies</em> used for persistent storage of messages.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-extension-for-apache-pulsar"><a class="anchor" href="#quarkus-extension-for-apache-pulsar"></a>2. Quarkus Extension for Apache Pulsar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus provides support for Apache Pulsar through <a href="https://smallrye.io/smallrye-reactive-messaging/">SmallRye Reactive Messaging</a> framework.
Based on Eclipse MicroProfile Reactive Messaging specification 3.0, it proposes a flexible programming model bridging CDI and event-driven.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This guide provides an in-depth look on Apache Pulsar and SmallRye Reactive Messaging framework.
For a quick start take a look at <a href="pulsar-getting-started">Getting Started to SmallRye Reactive Messaging with Apache Pulsar</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can add the <code>smallrye-reactive-messaging-pulsar</code> extensions to your project by running the following command in your project base directory:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add smallrye-reactive-messaging-pulsar</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='smallrye-reactive-messaging-pulsar'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='smallrye-reactive-messaging-pulsar'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Isto irá adicionar o seguinte trecho no seu arquivo de build:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-pulsar&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-smallrye-reactive-messaging-pulsar")</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The extension includes <code>pulsar-clients-original</code> version 3.0.0 as a transitive dependency and is compatible with Pulsar brokers version 2.10.x.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-smallrye-pulsar-connector"><a class="anchor" href="#configuring-smallrye-pulsar-connector"></a>3. Configuring Smallrye Pulsar Connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because Smallrye Reactive Messaging framework supports different messaging backends like Apache Kafka, Apache Pulsar, AMQP, Apache Camel, JMS, MQTT, etc., it employs a generic vocabulary:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Applications send and receive <strong>messages</strong>. <a href="https://javadoc.io/doc/io.smallrye.reactive/smallrye-reactive-messaging-api/latest/org/eclipse/microprofile/reactive/messaging/Message.html"><code>Message</code></a> wraps a <em>payload</em> and can be extended with some <em>metadata</em>.
This should not be confused with a Pulsar <a href="https://javadoc.io/doc/org.apache.pulsar/pulsar-client-api/latest/org/apache/pulsar/client/api/Message.html"><code>Message</code></a>, which consists of value, key
With the Pulsar connector, a Reactive Messaging <em>message</em> corresponds to a Pulsar <em>message</em>.</p>
</li>
<li>
<p>Messages transit on <strong>channels</strong>. Application components connect to channels to publish and consume messages. The Pulsar connector maps <em>channels</em> to Pulsar <em>topics</em>.</p>
</li>
<li>
<p>Channels are connected to message backends using <strong>connectors</strong>.
Connectors are configured to map incoming messages to a specific channel (consumed by the application) and collect outgoing messages sent to a specific channel.
Each connector is dedicated to a specific messaging technology.
For example, the connector dealing with Pulsar is named <code>smallrye-pulsar</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A minimal configuration for the Pulsar connector with an incoming channel looks like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">%prod.pulsar.client.serviceUrl=pulsar:6650 <i class="conum" data-value="1"></i><b>(1)</b>
mp.messaging.incoming.prices.connector=smallrye-pulsar <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure the Pulsar broker service url for the production profile.
You can configure it globally or per channel using <code>mp.messaging.incoming.$channel.serviceUrl</code> property.
In dev mode and when running tests, <a href="#pulsar-dev-services">Dev Services para Pulsar</a> automatically starts a Pulsar broker.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure the connector to manage the prices channel.
By default, the <em>topic</em> name is same as the channel name.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can configure the topic attribute to override it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
O prefixo <code>%prod</code> indica que a propriedade só é utilizada quando a aplicação é executada em modo de produção (portanto, não em desenvolvimento ou teste). Consulte a <a href="config-reference#profiles">documentação do Perfil</a> para obter mais detalhes.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Fixação automática do conector</div>
<div class="paragraph">
<p>If you have a single connector on your classpath, you can omit the <code>connector</code> attribute configuration.
Quarkus automatically associates <em>orphan</em> channels to the (unique) connector found on the classpath.
<em>Orphan</em> channels are outgoing channels without a downstream consumer or incoming channels without an upstream producer.</p>
</div>
<div class="paragraph">
<p>Esta ligação automática pode ser desativada utilizando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.reactive-messaging.auto-connector-attachment=false</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more configuration options see <a href="#configuring-pulsar-clients">Configuring Pulsar clients</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="receiving-messages-from-pulsar"><a class="anchor" href="#receiving-messages-from-pulsar"></a>4. Receiving messages from Pulsar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Pulsar Connector connects to a Pulsar broker using a Pulsar client and creates consumers to
receive messages from Pulsar brokers, and it maps each Pulsar <code>Message</code> into Reactive Messaging <code>Message</code>.</p>
</div>
<div class="sect2">
<h3 id="example"><a class="anchor" href="#example"></a>4.1. Exemplo</h3>
<div class="paragraph">
<p>Let’s imagine you have a Pulsar broker running, and accessible using the <code>pulsar:6650</code> address.
Configure your application to receive Pulsar messages on the <code>prices</code> channel as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.serviceUrl=pulsar://pulsar:6650 <i class="conum" data-value="1"></i><b>(1)</b>
mp.messaging.incoming.prices.subscriptionInitialPosition=Earliest <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the Pulsar broker service url.</p>
</li>
<li>
<p>Make sure consumer subscription starts receiving messages from the <code>Earliest</code> position.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You don’t need to set the Pulsar topic, nor the consumer name.
By default, the connector uses the channel name (<code>prices</code>).
You can configure the <code>topic</code> and <code>consumerName</code> attributes to override them.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In Pulsar, consumers need to provide a <code>subscriptionName</code> for topic subscriptions.
If not provided the connector generates a unique <strong>subscription name</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then, your application can receive the <code>double</code> payload directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.eclipse.microprofile.reactive.messaging.Incoming;

import jakarta.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class PriceConsumer {

    @Incoming("prices")
    public void consume(double price) {
        // process your price.
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, you can retrieve the Reactive Messaging type <code>Message&lt;Double&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Incoming("prices")
public CompletionStage&lt;Void&gt; consume(Message&lt;Double&gt; msg) {
    // access record metadata
    var metadata = msg.getMetadata(PulsarIncomingMessageMetadata.class).orElseThrow();
    // process the message payload.
    double price = msg.getPayload();
    // Acknowledge the incoming message (acknowledge the Pulsar message back to the broker)
    return msg.ack();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Reactive Messaging <code>Message</code> type lets the consuming method access the incoming message metadata and handle the acknowledgment manually.</p>
</div>
<div class="paragraph">
<p>If you want to access the Pulsar message objects directly, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Incoming("prices")
public void consume(org.apache.pulsar.client.api.Message&lt;Double&gt; msg) {
    String key = msg.getKey();
    String value = msg.getValue();
    String topic = msg.topicName();
    // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>org.apache.pulsar.client.api.Message</code> is provided by the underlying Pulsar client and can be used directly with the consumer method.</p>
</div>
<div class="paragraph">
<p>Alternatively, your application can inject a <code>Multi</code> in your bean, identified with the channel name and subscribe to its events as the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.smallrye.mutiny.Multi;
import org.eclipse.microprofile.reactive.messaging.Channel;

import jakarta.inject.Inject;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;
import org.jboss.resteasy.reactive.RestStreamElementType;

@Path("/prices")
public class PriceResource {

    @Inject
    @Channel("prices")
    Multi&lt;Double&gt; prices;

    @GET
    @Path("/prices")
    @RestStreamElementType(MediaType.TEXT_PLAIN)
    public Multi&lt;Double&gt; stream() {
        return prices;
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ao consumir mensagens com <code>@Channel</code>, o código da aplicação é responsável pela assinatura. No exemplo acima, o endpoint do RESTEasy Reativo cuida disso para você.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Os seguintes tipos podem ser injetados como canais:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject @Channel("prices") Multi&lt;Double&gt; streamOfPayloads;

@Inject @Channel("prices") Multi&lt;Message&lt;Double&gt;&gt; streamOfMessages;

@Inject @Channel("prices") Publisher&lt;Double&gt; publisherOfPayloads;

@Inject @Channel("prices") Publisher&lt;Message&lt;Double&gt;&gt; publisherOfMessages;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As with the previous <code>Message</code> example, if your injected channel receives payloads (<code>Multi&lt;T&gt;</code>), it acknowledges the message automatically, and support multiple subscribers.
If your injected channel receives Message (<code>Multi&lt;Message&lt;T&gt;&gt;</code>), you will be responsible for the acknowledgment and broadcasting.</p>
</div>
</div>
<div class="sect2">
<h3 id="blocking-processing"><a class="anchor" href="#blocking-processing"></a>4.2. Bloqueando o processamento</h3>
<div class="paragraph">
<p>A Mensageria Reativa invoca seu método em um thread de E/S. Consulte a <a href="quarkus-reactive-architecture">documentação da Arquitetura Reativa do Quarkus</a> para obter mais detalhes sobre esse tópico. Mas, muitas vezes, você precisa combinar o envio de mensagens reativas com processamento blocante, como interações de banco de dados. Para isso, você precisa usar a anotação <code>@Blocking</code> indicando que o processamento está <em>bloqueando</em> e não deve ser executado no thread do chamador.</p>
</div>
<div class="paragraph">
<p>Por exemplo, o código a seguir ilustra como é possível armazenar conteúdos recebidos em uma base de dados usando o Hibernate com Panache:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.smallrye.reactive.messaging.annotations.Blocking;
import org.eclipse.microprofile.reactive.messaging.Incoming;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.transaction.Transactional;

@ApplicationScoped
public class PriceStorage {

    @Incoming("prices")
    @Transactional
    public void store(int priceInUsd) {
        Price price = new Price();
        price.value = priceInUsd;
        price.persist();
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Existem 2 anotações de <code>@Blocking</code>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>io.smallrye.reactive.messaging.annotations.Blocking</code></p>
</li>
<li>
<p><code>io.smallrye.common.annotation.Blocking</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Eles têm o mesmo efeito. Portanto, você pode usar os dois. O primeiro fornece um ajuste mais refinado, como o pool de trabalho a ser usado e se ele preserva a ordem. O segundo, usado também com outros recursos reativos do Quarkus, usa o pool de trabalho padrão e preserva a ordem.</p>
</div>
<div class="paragraph">
<p>Informações detalhadas sobre a utilização da anotação <code>@Blocking</code> podem ser encontradas em <a href="https://smallrye.io/smallrye-reactive-messaging/latest/concepts/blocking/">Mensageria Reativa do SmallRye - Lidando com execução blocante</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">@RunOnVirtualThread</div>
<div class="paragraph">
<p>Para executar o processamento blocante em <em>threads virtuais</em> Java, consulte a <a href="messaging-virtual-threads">documentação de suporte do Quarkus à Virtual Thread com Mensageria Reativa</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">@Transactional</div>
<div class="paragraph">
<p>Se o seu método estiver anotado com <code>@Transactional</code>, será considerado <em>blocante</em> automaticamente, mesmo que o método não esteja anotado com <code>@Blocking</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="pulsar-subscription-types"><a class="anchor" href="#pulsar-subscription-types"></a>4.3. Pulsar Subscription Types</h3>
<div class="paragraph">
<p>Pulsar <strong>subscriptionType</strong> consumer configuration can be used flexibly to achieve different messaging scenarios, such as publish-subscribe or queuing.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Exclusive</strong> subscription type allows specifying a <em>unique subscription name</em> for "fan-out pub-sub messaging". This is the default subscription type.</p>
</li>
<li>
<p><strong>Shared</strong>, <strong>Key_Shared</strong> or <strong>Failover</strong> subscription types allow multiple consumers to share the <em>same subscription name</em>, to achieve "message queuing" among consumers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a subscription name is not provided Quarkus generates a unique id.</p>
</div>
</div>
<div class="sect2">
<h3 id="deserialization-and-pulsar-schema"><a class="anchor" href="#deserialization-and-pulsar-schema"></a>4.4. Deserialization and Pulsar Schema</h3>
<div class="paragraph">
<p>The Pulsar Connector allows configuring Schema configuration for the underlying Pulsar consumer.
See the <a href="#pulsar-schema-configuration">Pulsar Schema Configuration &amp; Auto Schema Discovery</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgement-strategies"><a class="anchor" href="#acknowledgement-strategies"></a>4.5. Acknowledgement Strategies</h3>
<div class="paragraph">
<p>When a message produced from a Pulsar Message is <strong>acknowledged</strong>, the connector sends an <a href="https://pulsar.apache.org/docs/3.0.x/concepts-messaging/#acknowledgment">acknowledgement request</a> to the Pulsar broker.
All Reactive Messaging messages need to be <strong>acknowledged</strong>, which is handled automatically in most cases.
Acknowledgement requests can be sent to the Pulsar broker using the following two strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Individual acknowledgement</strong> is the default strategy, an acknowledgement request is to the broker for each message.</p>
</li>
<li>
<p><strong>Cumulative acknowledgement</strong>, configured using <code>ack-strategy=cumulative</code>, the consumer only acknowledges the last message it received.
All messages in the stream up to (and including) the provided message are not redelivered to that consumer.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, the Pulsar consumer does not wait for the acknowledgement confirmation from the broker to validate an acknowledgement.
You can enable this using <code>ackReceiptEnabled=true</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="failure-handling-strategies"><a class="anchor" href="#failure-handling-strategies"></a>4.6. Failure Handling Strategies</h3>
<div class="paragraph">
<p>If a message produced from a Pulsar message is <strong>nacked</strong>, a failure strategy is applied.
The Quarkus Pulsar extension supports 4 strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>nack</code> <strong>(default)</strong> sends <a href="https://pulsar.apache.org/docs/3.0.x/concepts-messaging/#negative-acknowledgment">negative acknowledgment</a> to the broker, triggering the broker to redeliver this message to the consumer.
The negative acknowledgment can be further configured using <code>negativeAckRedeliveryDelayMicros</code> and <code>negativeAck.redeliveryBackoff</code> properties.</p>
</li>
<li>
<p><code>fail</code> fail the application, no more messages will be processed.</p>
</li>
<li>
<p><code>ignore</code> the failure is logged, but the acknowledgement strategy will be applied and the processing will continue.</p>
</li>
<li>
<p><code>continue</code> the failure is logged, but processing continues without applying acknowledgement or negative acknowledgement. This strategy can be used with <a href="#ack-timeout">Acknowledgement timeout</a> configuration.</p>
</li>
<li>
<p><code>reconsume-later</code> sends the message to the <a href="https://pulsar.apache.org/docs/3.0.x/concepts-messaging/#retry-letter-topic">retry letter topic</a> using the <code>reconsumeLater</code> API to be reconsumed with a delay.
The delay can be configured using the <code>reconsumeLater.delay</code> property and defaults to 3 seconds.
Custom delay or properties per message can be configured by adding an instance of <code>io.smallrye.reactive.messaging.pulsar.PulsarReconsumeLaterMetadata</code> to the failure metadata.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="ack-timeout"><a class="anchor" href="#ack-timeout"></a>4.6.1. Acknowledgement timeout</h4>
<div class="paragraph">
<p>Similar to the negative acknowledgement, with the <a href="https://pulsar.apache.org/docs/3.0.x/concepts-messaging/#acknowledgment-timeout">acknowledgement timeout</a> mechanism, the Pulsar client tracks the unacknowledged messages,
for the given <strong>ackTimeout</strong> period and sends <strong>redeliver unacknowledged messages request</strong> to the broker, thus the broker resends the unacknowledged messages to the consumer.</p>
</div>
<div class="paragraph">
<p>To configure the timeout and redelivery backoff mechanism you can set <code>ackTimeoutMillis</code> and <code>ackTimeout.redeliveryBackoff</code> properties.
The <code>ackTimeout.redeliveryBackoff</code> value accepts comma separated values of min delay in milliseconds, max delay in milliseconds and multiplier respectively:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.out.failure-strategy=continue
mp.messaging.incoming.out.ackTimeoutMillis=10000
mp.messaging.incoming.out.ackTimeout.redeliveryBackoff=1000,60000,2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="reconsume-later-and-retry-letter-topic"><a class="anchor" href="#reconsume-later-and-retry-letter-topic"></a>4.6.2. Reconsume later and retry letter topic</h4>
<div class="paragraph">
<p>The <a href="https://pulsar.apache.org/docs/3.0.x/concepts-messaging/#retry-letter-topic">retry letter topic</a> pushes messages that are not consumed successfully to a dead letter topic and continue message consumption.
Note that dead letter topic can be used in different message redelivery methods, such as acknowledgment timeout, negative acknowledgment or retry letter topic.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.data.failure-strategy=reconsume-later
mp.messaging.incoming.data.reconsumeLater.delay=5000
mp.messaging.incoming.data.retryEnable=true
mp.messaging.incoming.data.negativeAck.redeliveryBackoff=1000,60000,2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="dead-letter-topic"><a class="anchor" href="#dead-letter-topic"></a>4.6.3. Dead-letter topic</h4>
<div class="paragraph">
<p>The <a href="https://pulsar.apache.org/docs/3.0.x/concepts-messaging/#dead-letter-topic">dead letter topic</a> pushes messages that are not consumed successfully to a dead letter topic an continue message consumption.
Note that dead letter topic can be used in different message redelivery methods, such as acknowledgment timeout, negative acknowledgment or retry letter topic.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.data.failure-strategy=nack
mp.messaging.incoming.data.deadLetterPolicy.maxRedeliverCount=2
mp.messaging.incoming.data.deadLetterPolicy.deadLetterTopic=my-dead-letter-topic
mp.messaging.incoming.data.deadLetterPolicy.initialSubscriptionName=my-dlq-subscription
mp.messaging.incoming.data.subscriptionType=Shared</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Negative acknowledgment</strong> or <strong>acknowledgment timeout</strong> methods for redelivery will redeliver the whole batch of messages containing at least an unprocessed message.
See <a href="#producer-batching">Producer Batching</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="receiving-pulsar-messages-in-batches"><a class="anchor" href="#receiving-pulsar-messages-in-batches"></a>4.7. Receiving Pulsar Messages in Batches</h3>
<div class="paragraph">
<p>By default, incoming methods receive each Pulsar message individually.
You can enable batch mode using <code>batchReceive=true</code> property, or setting a <code>batchReceivePolicy</code> in consumer configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Incoming("prices")
public CompletionStage&lt;Void&gt; consumeMessage(PulsarIncomingBatchMessage&lt;Double&gt; messages) {
    for (PulsarMessage&lt;Double&gt; msg : messages) {
        msg.getMetadata(PulsarIncomingMessageMetadata.class).ifPresent(metadata -&gt; {
            String key = metadata.getKey();
            String topic = metadata.getTopicName();
            long timestamp = metadata.getEventTime();
            //... process messages
        });
    }
    // ack will commit the latest offsets (per partition) of the batch.
    return messages.ack();
}

@Incoming("prices")
public void consumeRecords(Messages&lt;Double&gt; messages) {
    for (Message&lt;Double&gt; msg : messages) {
        //... process messages
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can directly receive the list of payloads to the consume method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Incoming("prices")
public void consume(List&lt;Double&gt; prices) {
    for (double price : prices) {
        // process price
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Quarkus auto-detects batch types for incoming channels and sets batch configuration automatically.
You can configure batch mode explicitly with <code>mp.messaging.incoming.$channel.batchReceive</code> property.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sending-messages-to-pulsar"><a class="anchor" href="#sending-messages-to-pulsar"></a>5. Sending messages to Pulsar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Pulsar Connector can write Reactive Messaging Messages as Pulsar Message.</p>
</div>
<div class="sect2">
<h3 id="example-2"><a class="anchor" href="#example-2"></a>5.1. Exemplo</h3>
<div class="paragraph">
<p>Let’s imagine you have a Pulsar broker running, and accessible using the <code>pulsar:6650</code> address.
Configure your application to write the messages from the <code>prices</code> channel into a Pulsar Messages as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.prices.serviceUrl=pulsar://pulsar:6650 <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the Pulsar broker service url.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You don’t need to set the Pulsar topic, nor the producer name.
By default, the connector uses the channel name (<code>prices</code>).
You can configure the <code>topic</code> and <code>producerName</code> attributes to override them.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then, your application must send <code>Message&lt;Double&gt;</code> to the <code>prices</code>
channel. It can use <code>double</code> payloads as in the following snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.smallrye.mutiny.Multi;
import org.eclipse.microprofile.reactive.messaging.Outgoing;

import jakarta.enterprise.context.ApplicationScoped;
import java.time.Duration;
import java.util.Random;

@ApplicationScoped
public class PulsarPriceProducer {

    private final Random random = new Random();

    @Outgoing("prices-out")
    public Multi&lt;Double&gt; generate() {
        // Build an infinite stream of random prices
        // It emits a price every second
        return Multi.createFrom().ticks().every(Duration.ofSeconds(1))
            .map(x -&gt; random.nextDouble());
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the generate method returns a <code>Multi&lt;Double&gt;</code>, which implements the <code>Flow.Publisher</code> interface.
This publisher will be used by the framework to generate messages and send them to the configured Pulsar topic.</p>
</div>
<div class="paragraph">
<p>Instead of returning a payload, you can return a <code>io.smallrye.reactive.messaging.pulsar.OutgoingMessage</code> to send Pulsar messages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Outgoing("out")
public Multi&lt;OutgoingMessage&lt;Double&gt;&gt; generate() {
    return Multi.createFrom().ticks().every(Duration.ofSeconds(1))
        .map(x -&gt; OutgoingMessage.of("my-key", random.nextDouble()));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O conteúdo pode ser envolvido em uma <code>org.eclipse.microprofile.reactive.messaging.Message</code> para ter mais controle sobre os registros escritos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Outgoing("generated-price")
public Multi&lt;Message&lt;Double&gt;&gt; generate() {
    return Multi.createFrom().ticks().every(Duration.ofSeconds(1))
            .map(x -&gt; Message.of(random.nextDouble())
                    .addMetadata(PulsarOutgoingMessageMetadata.builder()
                            .withKey("my-key")
                            .withProperties(Map.of("property-key", "value"))
                            .build()));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When sending <code>Messages</code>, you can add an instance of
<code>io.smallrye.reactive.messaging.pulsar.PulsarOutgoingMessageMetadata</code> to influence how the message is going to be written to Pulsar.</p>
</div>
<div class="paragraph">
<p>Other than method signatures returning a <code>Flow.Publisher</code>, outgoing method can also return single message.
In this case the producer will use this method as generator to create an infinite stream.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Outgoing("prices-out") T generate(); // T excluding void

@Outgoing("prices-out") Message&lt;T&gt; generate();

@Outgoing("prices-out") Uni&lt;T&gt; generate();

@Outgoing("prices-out") Uni&lt;Message&lt;T&gt;&gt; generate();

@Outgoing("prices-out") CompletionStage&lt;T&gt; generate();

@Outgoing("prices-out") CompletionStage&lt;Message&lt;T&gt;&gt; generate();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="serialization-and-pulsar-schema"><a class="anchor" href="#serialization-and-pulsar-schema"></a>5.2. Serialization and Pulsar Schema</h3>
<div class="paragraph">
<p>The Pulsar Connector allows configuring Schema configuration for the underlying Pulsar producer.
See the <a href="#pulsar-schema-configuration">Pulsar Schema Configuration &amp; Auto Schema Discovery</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="sending-keyvalue-pairs"><a class="anchor" href="#sending-keyvalue-pairs"></a>5.3. Sending key/value pairs</h3>
<div class="paragraph">
<p>In order to send Kev/Value pairs to Pulsar, you can configure the Pulsar producer Schema with a
<a href="https://javadoc.io/doc/org.apache.pulsar/pulsar-client-api/latest/org/apache/pulsar/common/schema/KeyValue.html">KeyValue</a> schema.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package pulsar.outbound;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.enterprise.inject.Produces;

import org.apache.pulsar.client.api.Schema;
import org.apache.pulsar.common.schema.KeyValue;
import org.eclipse.microprofile.reactive.messaging.Incoming;
import org.eclipse.microprofile.reactive.messaging.Outgoing;

import io.smallrye.common.annotation.Identifier;

@ApplicationScoped
public class PulsarKeyValueExample {

    @Identifier("out")
    @Produces
    Schema&lt;KeyValue&lt;String, Long&gt;&gt; schema = Schema.KeyValue(Schema.STRING, Schema.INT64);

    @Incoming("in")
    @Outgoing("out")
    public KeyValue&lt;String, Long&gt; process(long in) {
        return new KeyValue&lt;&gt;("my-key", in);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need more control on the written records, use <code>PulsarOutgoingMessageMetadata</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgement"><a class="anchor" href="#acknowledgement"></a>5.4. Acknowledgement</h3>
<div class="paragraph">
<p>Upon receiving a message from a Producer, a Pulsar broker assigns a <code>MessageId</code> to the message and sends it back to the producer,
confirming that the message is published.</p>
</div>
<div class="paragraph">
<p>By default, the connector does wait for Pulsar to acknowledge the record
to continue the processing (acknowledging the received <code>Message</code>).
You can disable this by setting the <code>waitForWriteCompletion</code> attribute to <code>false</code>.</p>
</div>
<div class="paragraph">
<p>If a record cannot be written, the message is <code>nacked</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Pulsar client automatically retries sending messages in case of failure, until the <strong>send timeout</strong> is reached.
The <strong>send timeout</strong> is configurable with <code>sendTimeoutMs</code> attribute and by default is 30 seconds.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="back-pressure-and-inflight-records"><a class="anchor" href="#back-pressure-and-inflight-records"></a>5.5. Back-pressure and inflight records</h3>
<div class="paragraph">
<p>The Pulsar outbound connector handles back-pressure, monitoring the number of pending messages waiting to be written to the Pulsar broker.
The number of pending messages is configured using the <code>maxPendingMessages</code> attribute and defaults to 1000.</p>
</div>
<div class="paragraph">
<p>The connector only sends that amount of messages concurrently.
No other messages will be sent until at least one pending message gets acknowledged by the broker.
Then, the connector writes a new message to Pulsar when one of the broker’s pending messages get acknowledged.</p>
</div>
<div class="paragraph">
<p>You can also remove the limit of pending messages by setting <code>maxPendingMessages</code> to <code>0</code>.
Note that Pulsar also enables to configure the number of pending messages per partition using <code>maxPendingMessagesAcrossPartitions</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="producer-batching"><a class="anchor" href="#producer-batching"></a>5.6. Producer Batching</h3>
<div class="paragraph">
<p>By default, the Pulsar producer batches individual messages together to be published to the broker.
You can configure batching parameters using <code>batchingMaxPublishDelayMicros</code>, <code>batchingPartitionSwitchFrequencyByPublishDelay</code>,
<code>batchingMaxMessages</code>, <code>batchingMaxBytes</code> configuration properties, or disable it completely with <code>batchingEnabled=false</code>.</p>
</div>
<div class="paragraph">
<p>When using <code>Key_Shared</code> consumer subscriptions, the <code>batcherBuilder</code> can be configured to <code>BatcherBuilder.KEY_BASED</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pulsar-transactions-and-exactly-once-processing"><a class="anchor" href="#pulsar-transactions-and-exactly-once-processing"></a>6. Pulsar Transactions and Exactly-Once Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://pulsar.apache.org/docs/3.0.x/txn-why/">Pulsar transactions</a> enable event streaming applications to consume, process, and produce messages in one atomic operation.</p>
</div>
<div class="paragraph">
<p>Transactions allow one or multiple producers to send batch of messages to multiple topics where all messages in the batch are eventually visible to any consumer, or none is ever visible to consumers.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In order to be used, transaction support needs to be activated on the broker configuration, using <code>transactionCoordinatorEnabled=true</code> and <code>systemTopicEnabled=true</code> broker configuration.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>On the client side, the transaction support also needs to be enabled on <code>PulsarClient</code> configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.tx-producer.enableTransaction=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pulsar connector provides <code>PulsarTransactions</code> custom emitter for writing records inside a transaction.</p>
</div>
<div class="paragraph">
<p>It can be used as a regular emitter <code>@Channel</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package pulsar.outbound;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;

import org.eclipse.microprofile.reactive.messaging.Channel;
import org.eclipse.microprofile.reactive.messaging.Incoming;
import org.eclipse.microprofile.reactive.messaging.Message;

import io.smallrye.mutiny.Uni;
import io.smallrye.reactive.messaging.pulsar.OutgoingMessage;
import io.smallrye.reactive.messaging.pulsar.transactions.PulsarTransactions;

@ApplicationScoped
public class PulsarTransactionalProducer {

    @Inject
    @Channel("tx-out-example")
    PulsarTransactions&lt;OutgoingMessage&lt;Integer&gt;&gt; txProducer;

    @Inject
    @Channel("other-producer")
    PulsarTransactions&lt;String&gt; producer;

    @Incoming("in")
    public Uni&lt;Void&gt; emitInTransaction(Message&lt;Integer&gt; in) {
        return txProducer.withTransaction(emitter -&gt; {
            emitter.send(OutgoingMessage.of("a", 1));
            emitter.send(OutgoingMessage.of("b", 2));
            emitter.send(OutgoingMessage.of("c", 3));
            producer.send(emitter, "4");
            producer.send(emitter, "5");
            producer.send(emitter, "6");
            return Uni.createFrom().completionStage(in::ack);
        });
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The function given to the <code>withTransaction</code> method receives a <code>TransactionalEmitter</code> for producing records, and returns a <code>Uni</code> that provides the result of the transaction.
If the processing completes successfully, the producer is flushed and the transaction is committed.
If the processing throws an exception, returns a failing <code>Uni</code>, or marks the <code>TransactionalEmitter</code> for abort, the transaction is aborted.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Multiple transactional producers can participate in a single transaction.
This ensures all messages are sent using the started transaction and before the transaction is committed, all participating producers are flushed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If this method is called on a Vert.x context, the processing function is also called on that context.
Otherwise, it is called on the sending thread of the producer.</p>
</div>
<div class="sect2">
<h3 id="exactly-once-processing"><a class="anchor" href="#exactly-once-processing"></a>6.1. Processamento Exactly-Once (Exatamente Único)</h3>
<div class="paragraph">
<p>Pulsar Transactions API also allows managing consumer offsets inside a transaction, together with produced messages.
This in turn enables coupling a consumer with a transactional producer in a consume-transform-produce pattern,
also known as exactly-once processing.
It means that an application consumes messages, processes them, publishes the results to a topic, and commits offsets of the consumed messages in a transaction.</p>
</div>
<div class="paragraph">
<p>The <code>PulsarTransactions</code> emitter also provides a way to apply exactly-once processing to an incoming Pulsar message inside a transaction.</p>
</div>
<div class="paragraph">
<p>The following example includes a batch of Pulsar messages inside a transaction.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.tx-out-example.enableTransaction=true
# ...
mp.messaging.incoming.in-channel.enableTransaction=true
mp.messaging.incoming.in-channel.batchReceive=true</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package pulsar.outbound;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;

import org.eclipse.microprofile.reactive.messaging.Channel;
import org.eclipse.microprofile.reactive.messaging.Incoming;

import io.smallrye.mutiny.Uni;
import io.smallrye.reactive.messaging.pulsar.PulsarIncomingBatchMessage;
import io.smallrye.reactive.messaging.pulsar.PulsarMessage;
import io.smallrye.reactive.messaging.pulsar.transactions.PulsarTransactions;

@ApplicationScoped
public class PulsarExactlyOnceProcessor {

    @Inject
    @Channel("tx-out-example")
    PulsarTransactions&lt;Integer&gt; txProducer;

    @Incoming("in-channel")
    public Uni&lt;Void&gt; emitInTransaction(PulsarIncomingBatchMessage&lt;Integer&gt; batch) {
        return txProducer.withTransactionAndAck(batch, emitter -&gt; {
            for (PulsarMessage&lt;Integer&gt; record : batch) {
                emitter.send(PulsarMessage.of(record.getPayload() + 1, record.getKey()));
            }
            return Uni.createFrom().voidItem();
        });
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the processing completes successfully, the message is acknowledged inside the transaction and the transaction is committed.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using exactly-once processing, messages can only be acked individually rather than cumulatively.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the processing needs to abort, the message is nack&#8217;ed. One of the failure strategies can be employed in order to retry the processing or simply fail-stop.
Note that the <code>Uni</code> returned from the <code>withTransaction</code> will yield a failure if the transaction fails and is aborted.</p>
</div>
<div class="paragraph">
<p>The application can choose to handle the error case, but for the message consumption to continue, <code>Uni</code> returned from the <code>@Incoming</code> method must not result in failure.
<code>PulsarTransactions#withTransactionAndAck</code> method will ack and nack the message but will not stop the reactive stream.
Ignoring the failure simply resets the consumer to the last committed offsets and resumes the processing from there.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In order to avoid duplicates in case of failure, it is recommended to enable message deduplication and batch index level acknowledgment on the broker side:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.pulsar.devservices.broker-config.brokerDeduplicationEnabled=true
quarkus.pulsar.devservices.broker-config.brokerDeduplicationEntriesInterval=1000
quarkus.pulsar.devservices.broker-config.brokerDeduplicationSnapshotIntervalSeconds=3000
quarkus.pulsar.devservices.broker-config.acknowledgmentAtBatchIndexLevelEnabled=3000

mp.messaging.incoming.data.batchIndexAckEnabled=true</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pulsar-schema-configuration"><a class="anchor" href="#pulsar-schema-configuration"></a>7. Pulsar Schema Configuration &amp; Auto Schema Discovery</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pulsar messages are stored with payloads as unstructured byte array.
A Pulsar <strong>schema</strong> defines how to serialize structured data to the raw message bytes.
The <strong>schema</strong> is applied in producers and consumers to write and read with an enforced data structure.
It serializes data into raw bytes before they are published to a topic and deserializes the raw bytes before they are delivered to consumers.</p>
</div>
<div class="paragraph">
<p>Pulsar uses a schema registry as a central repository to store the registered schema information,
which enables producers/consumers to coordinate the schema of a topic&#8217;s messages through brokers.
By default the Apache BookKeeper is used to store schemas.</p>
</div>
<div class="paragraph">
<p>Pulsar API provides built-in schema information for a number of
<a href="https://pulsar.apache.org/docs/3.0.x/schema-understand#primitive-type">primitive types</a>
and <a href="https://pulsar.apache.org/docs/3.0.x/schema-understand#complex-type">complex types</a> such as Key/Value, Avro and Protobuf.</p>
</div>
<div class="paragraph">
<p>The Pulsar Connector allows specifying the schema as a primitive type using the <code>schema</code> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.connector=smallrye-pulsar
mp.messaging.incoming.prices.schema=INT32

mp.messaging.outgoing.prices-out.connector=smallrye-pulsar
mp.messaging.outgoing.prices-out.schema=DOUBLE</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the value for the <code>schema</code> property matches a <a href="https://javadoc.io/doc/org.apache.pulsar/pulsar-client-api/latest/org/apache/pulsar/common/schema/SchemaType.html">Schema Type</a>
a simple schema will be created with that type and will be used for that channel.</p>
</div>
<div class="paragraph">
<p>The Pulsar Connector allows configuring complex schema types by providing <code>Schema</code> beans through CDI, identified with the <code>@Identifier</code> qualifier.</p>
</div>
<div class="paragraph">
<p>For example the following bean provides an JSON schema and a Key/Value schema:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package pulsar.configuration;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.enterprise.inject.Produces;

import org.apache.pulsar.client.api.Schema;
import org.apache.pulsar.common.schema.KeyValue;
import org.apache.pulsar.common.schema.KeyValueEncodingType;

import io.smallrye.common.annotation.Identifier;

@ApplicationScoped
public class PulsarSchemaProvider {

    @Produces
    @Identifier("user-schema")
    Schema&lt;User&gt; userSchema = Schema.JSON(User.class);

    @Produces
    @Identifier("a-channel")
    Schema&lt;KeyValue&lt;Integer, User&gt;&gt; keyValueSchema() {
        return Schema.KeyValue(Schema.INT32, Schema.JSON(User.class), KeyValueEncodingType.SEPARATED);
    }

    public static class User {
        String name;
        int age;

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To configure the incoming channel <code>users</code> with defined schema, you need to set the <code>schema</code> property to the identifier of the schema <code>user-schema</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.users.connector=smallrye-pulsar
mp.messaging.incoming.users.schema=user-schema</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no <code>schema</code> property is found, the connector looks for <code>Schema</code> beans identified with the channel name.
For example, the outgoing channel <code>a-channel</code> will use the key/value schema.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.a-channel.connector=smallrye-pulsar</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no schema information is provided incoming channels will use <code>Schema.AUTO_CONSUME()</code>, whereas outgoing channels will use <code>Schema.AUTO_PRODUCE_BYTES()</code> schemas.</p>
</div>
<div class="sect2">
<h3 id="auto-schema-discovery"><a class="anchor" href="#auto-schema-discovery"></a>7.1. Auto Schema Discovery</h3>
<div class="paragraph">
<p>When using SmallRye Reactive Messaging Pulsar (<code>io.quarkus:quarkus-smallrye-reactive-messaging-pulsar</code>), Quarkus can often automatically detect the correct Pulsar Schema to configure.
This autodetection is based on declarations of <code>@Incoming</code> and <code>@Outgoing</code> methods, as well as injected <code>@Channel</code>s.</p>
</div>
<div class="paragraph">
<p>Por exemplo, se você declarar</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Outgoing("generated-price")
public Multi&lt;Integer&gt; generate() {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and your configuration indicates that the <code>generated-price</code> channel uses the <code>smallrye-pulsar</code> connector, then Quarkus will automatically set the <code>schema</code> attribute of the  <code>generated-price</code> channel to Pulsar Schema <code>INT32</code>.</p>
</div>
<div class="paragraph">
<p>Da mesma forma, se você declarar</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Incoming("my-pulsar-consumer")
public void consume(org.apache.pulsar.api.client.Message&lt;byte[]&gt; record) {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and your configuration indicates that the <code>my-pulsar-consumer</code> channel uses the <code>smallrye-pulsar</code> connector, then Quarkus will automatically set the <code>schema</code> attribute to Pulsar <code>BYTES</code> Schema.</p>
</div>
<div class="paragraph">
<p>Finalmente, se você declarar</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@Channel("price-create")
Emitter&lt;Double&gt; priceEmitter;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and your configuration indicates that the <code>price-create</code> channel uses the <code>smallrye-pulsar</code> connector, then Quarkus will automatically set the <code>schema</code> to Pulsar <code>INT64</code> Schema.</p>
</div>
<div class="paragraph">
<p>The full set of types supported by the Pulsar Schema autodetection is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>short</code> e <code>java.lang.Short</code></p>
</li>
<li>
<p><code>int</code> e <code>java.lang.Integer</code></p>
</li>
<li>
<p><code>long</code> e <code>java.lang.Long</code></p>
</li>
<li>
<p><code>float</code> e <code>java.lang.Float</code></p>
</li>
<li>
<p><code>double</code> e <code>java.lang.Double</code></p>
</li>
<li>
<p><code>byte[]</code></p>
</li>
<li>
<p><code>java.time.Instant</code></p>
</li>
<li>
<p><code>java.sql.Timestamp</code></p>
</li>
<li>
<p><code>java.time.LocalDate</code></p>
</li>
<li>
<p><code>java.time.LocalTime</code></p>
</li>
<li>
<p><code>java.time.LocalDateTime</code></p>
</li>
<li>
<p><code>java.nio.ByteBuffer</code></p>
</li>
<li>
<p>classes generated from Avro schemas, as well as Avro <code>GenericRecord</code>, will be configured with <code>AVRO</code> schema type</p>
</li>
<li>
<p>classes generated from Protobuf schemas, will be configured with <code>PROTOBUF</code> schema type</p>
</li>
<li>
<p>other classes will automatically be configured with <code>JSON</code> schema type</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Note that <code>JSON</code> schema type enforces schema validation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition to those Pulsar-provided schemas, Quarkus provides following schema implementations <em>without enforcing validation</em> :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>io.vertx.core.buffer.Buffer</code> will be configured with <code>io.quarkus.pulsar.schema.BufferSchema</code> schema</p>
</li>
<li>
<p><code>io.vertx.core.json.JsonObject</code> will be configured with <code>io.quarkus.pulsar.schema.JsonObjectSchema</code> schema</p>
</li>
<li>
<p><code>io.vertx.core.json.JsonArray</code> will be configured with <code>io.quarkus.pulsar.schema.JsonArraySchema</code> schema</p>
</li>
<li>
<p>For schema-less Json serialization, if the <code>schema</code> configuration is set to <code>ObjectMapper&lt;fully_qualified_name_of_the_bean&gt;</code>,
a Schema will be generated using the Jackson <code>ObjectMapper</code>, without enforcing a Pulsar Schema validation.
<code>io.quarkus.pulsar.schema.ObjectMapperSchema</code> can be used to explicitly configure JSON schema without validation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>schema</code> is set by configuration, it won&#8217;t be replaced by the auto-detection.</p>
</div>
<div class="paragraph">
<p>In case you have any issues with serializer auto-detection, you can switch it off completely by setting <code>quarkus.reactive-messaging.pulsar.serializer-autodetection.enabled=false</code>.
If you find you need to do this, please file a bug in the <a href="https://github.com/quarkusio/quarkus/issues">Quarkus issue tracker</a> so we can fix whatever problem you have.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pulsar-dev-services"><a class="anchor" href="#pulsar-dev-services"></a>8. Dev Services para Pulsar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Com a extensão Smallrye Reactive Messaging Pulsar do Quarkus (<code>quarkus-smallrye-reactive-messaging-pulsar</code>), o Dev Services para Pulsar inicia automaticamente um broker Pulsar no modo de desenvolvimento e ao executar testes. Portanto, você não precisa iniciar um broker manualmente. O aplicativo é configurado automaticamente.</p>
</div>
<div class="sect2">
<h3 id="enabling-disabling-dev-services-for-pulsar"><a class="anchor" href="#enabling-disabling-dev-services-for-pulsar"></a>8.1. Ativando / Desativando Dev Services para o Pulsar</h3>
<div class="paragraph">
<p>Os Dev services para Pulsar são ativados automaticamente, a menos que:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>quarkus.pulsar.devservices.enabled</code> é definido como <code>false</code></p>
</li>
<li>
<p>o <code>pulsar.client.serviceUrl</code> está configurado</p>
</li>
<li>
<p>todos os canais Pulsar de mensagens reativas têm o atributo <code>serviceUrl</code> definido</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Dev Services para a Pulsar dependem do Docker para iniciar o agente. Se o seu ambiente não for compatível com o Docker, você precisará iniciar o agente manualmente ou conectar-se a um agente já em execução. Você pode configurar o endereço do agente usando <code>pulsar.client.</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="shared-broker"><a class="anchor" href="#shared-broker"></a>8.2. Broker partilhado</h3>
<div class="paragraph">
<p>Na maioria das vezes, você precisa compartilhar o broker entre os aplicativos. O Dev Services para Pulsar implementa um mecanismo de <em>descoberta de serviços</em> para que seus vários aplicativos Quarkus em execução no modo de <em>desenvolvimento</em> compartilhem um único broker.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
O Dev Services para Pulsar inicia o contêiner com a etiqueta <code>quarkus-dev-service-pulsar</code> que é utilizada para identificar o contêiner.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Se precisar de vários brokers (compartilhados), você pode configurar o atributo <code>quarkus.pulsar.devservices.service-name</code> e indicar o nome do broker. Ele procura um contêiner com o mesmo valor ou inicia um novo se nenhum for encontrado. O nome do serviço padrão é <code>pulsar</code> .</p>
</div>
<div class="paragraph">
<p>O compartilhamento é ativado por padrão no modo de desenvolvimento, mas desativado no modo de teste. Você pode desativar o compartilhamento com <code>quarkus.pulsar.devservices.shared=false</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="setting-the-port"><a class="anchor" href="#setting-the-port"></a>8.3. Definindo a porta</h3>
<div class="paragraph">
<p>Por padrão, o Dev Services para Pulsar escolhe uma porta aleatória e configura o aplicativo. Você pode definir a porta configurando a propriedade <code>quarkus.pulsar.devservices.port</code>.</p>
</div>
<div class="paragraph">
<p>Note que o endereço anunciado pelo Pulsar é automaticamente configurado com a porta escolhida.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-image"><a class="anchor" href="#configuring-the-image"></a>8.4. Configurando a imagem</h3>
<div class="paragraph">
<p>O Dev Services para Pulsar suporta a  <a href="https://hub.docker.com/r/apachepulsar/pulsar">imagem oficial do Apache Pulsar</a>.</p>
</div>
<div class="paragraph">
<p>Um nome de imagem personalizado pode ser configurado. Por exemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.pulsar.devservices.image-name=datastax/lunastreaming-all:2.10_4.7</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-pulsar-broker"><a class="anchor" href="#configuring-the-pulsar-broker"></a>8.5. Configurar o broker Pulsar</h3>
<div class="paragraph">
<p>É possível configurar o Dev Services para a Pulsar com a configuração personalizada do broker.</p>
</div>
<div class="paragraph">
<p>O exemplo seguinte ativa o suporte de transação:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.pulsar.devservices.broker-config.transaction-coordinator-enabled=true
quarkus.pulsar.devservices.broker-config.system-topic-enabled=true</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-pulsar-clients"><a class="anchor" href="#configuring-pulsar-clients"></a>9. Configuring Pulsar clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pulsar clients, consumers and producers are very customizable to configure how a Pulsar client application behaves.</p>
</div>
<div class="paragraph">
<p>The Pulsar connector creates a Pulsar client and, a consumer or a producer per channel, each with sensible defaults to ease their configuration.
Although the creation is handled, all available configuration options remain configurable through Pulsar channels.</p>
</div>
<div class="paragraph">
<p>While idiomatic way of creating <code>PulsarClient</code>, <code>PulsarConsumer</code> or <code>PulsarProducer</code> are through builder APIs, in its essence
those APIs build each time a configuration object, to pass onto the implementation.
Those are <a href="https://javadoc.io/doc/org.apache.pulsar/pulsar-client-original/latest/org/apache/pulsar/client/impl/conf/ClientConfigurationData.html">ClientConfigurationData</a>,
<a href="https://javadoc.io/doc/org.apache.pulsar/pulsar-client-original/latest/org/apache/pulsar/client/impl/conf/ConsumerConfigurationData.html">ConsumerConfigurationData</a>
and <a href="https://javadoc.io/doc/org.apache.pulsar/pulsar-client-original/latest/org/apache/pulsar/client/impl/conf/ProducerConfigurationData.html">ProducerConfigurationData</a>.</p>
</div>
<div class="paragraph">
<p>Pulsar Connector allows receiving properties for those configuration objects directly.
For example, the broker authentication information for <code>PulsarClient</code> is received using <code>authPluginClassName</code> and <code>authParams</code> properties.
In order to configure the authentication for the incoming channel <code>data</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.data.connector=smallrye-pulsar
mp.messaging.incoming.data.serviceUrl=pulsar://localhost:6650
mp.messaging.incoming.data.topic=topic
mp.messaging.incoming.data.subscriptionInitialPosition=Earliest
mp.messaging.incoming.data.schema=INT32
mp.messaging.incoming.data.authPluginClassName=org.apache.pulsar.client.impl.auth.AuthenticationBasic
mp.messaging.incoming.data.authParams={"userId":"superuser","password":"admin"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the Pulsar consumer property <code>subscriptionInitialPosition</code> is also configured with the <code>Earliest</code> value which represents with enum value <code>SubscriptionInitialPosition.Earliest</code>.</p>
</div>
<div class="paragraph">
<p>This approach covers most of the configuration cases.
However, non-serializable objects such as <code>CryptoKeyReader</code>, <code>ServiceUrlProvider</code> etc. cannot be configured this way.
The Pulsar Connector allows taking into account instances of Pulsar configuration data objects –
<code>ClientConfigurationData</code>, <code>ConsumerConfigurationData</code>, <code>ProducerConfigurationData</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import jakarta.enterprise.inject.Produces;
import io.smallrye.common.annotation.Identifier;
import org.apache.pulsar.client.impl.conf.ConsumerConfigurationData;

class PulsarConfig {

    @Produces
    @Identifier("my-consumer-options")
    public ConsumerConfigurationData&lt;String&gt; getConsumerConfig() {
        ConsumerConfigurationData&lt;String&gt; data = new ConsumerConfigurationData&lt;&gt;();
        data.setAckReceiptEnabled(true);
        data.setCryptoKeyReader(DefaultCryptoKeyReader.builder()
                //...
                .build());
        return data;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This instance is retrieved and used to configure the client used by the connector.
You need to indicate the name of the client using the <code>client-configuration</code>, <code>consumer-configuration</code> or <code>producer-configuration</code> attributes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.consumer-configuration=my-consumer-options</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no <code>[client|consumer|producer]-configuration</code> is configured, the connector will look for instances identified with the channel name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import jakarta.enterprise.inject.Produces;
import io.smallrye.common.annotation.Identifier;
import org.apache.pulsar.client.impl.AutoClusterFailover;
import org.apache.pulsar.client.impl.conf.ClientConfigurationData;

class PulsarConfig {

    @Produces
    @Identifier("prices")
    public ClientConfigurationData getClientConfig() {
        ClientConfigurationData data = new ClientConfigurationData();
        data.setEnableTransaction(true);
        data.setServiceUrlProvider(AutoClusterFailover.builder()
                // ...
                .build());
        return data;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You also can provide a <code>Map&lt;String, Object&gt;</code> containing configuration values by key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import jakarta.enterprise.inject.Produces;
import io.smallrye.common.annotation.Identifier;
import org.apache.pulsar.client.api.BatcherBuilder;
import org.apache.pulsar.client.impl.conf.ClientConfigurationData;
import org.apache.pulsar.client.impl.customroute.PartialRoundRobinMessageRouterImpl;
import java.util.Map;

class PulsarConfig {

    @Produces
    @Identifier("prices")
    public Map&lt;String, Object&gt; getProducerConfig() {
        return Map.of(
                "batcherBuilder", BatcherBuilder.KEY_BASED,
                "sendTimeoutMs", 3000,
                "customMessageRouter", new PartialRoundRobinMessageRouterImpl(4));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Different configuration sources are loaded in the following order of precedence, from the least important to the highest:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Map&lt;String, Object&gt;</code> config map produced with default config identifier, <code>default-pulsar-client</code>, <code>default-pulsar-consumer</code>, <code>default-pulsar-producer</code>.</p>
</li>
<li>
<p><code>Map&lt;String, Object&gt;</code> config map produced with identifier in the configuration or channel name</p>
</li>
<li>
<p><code>[Client|Producer|Consuemr]ConfigurationData</code> object produced with identifier in the channel configuration or the channel name</p>
</li>
<li>
<p>Channel configuration properties named with <code>[Client|Producer|Consuemr]ConfigurationData</code> field names.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="#configuration-reference">Referência de configuração</a> for the exhaustive list of configuration options.</p>
</div>
<div class="sect2">
<h3 id="configuring-pulsar-authentication"><a class="anchor" href="#configuring-pulsar-authentication"></a>9.1. Configuring Pulsar Authentication</h3>
<div class="paragraph">
<p>Pulsar provides a pluggable authentication framework, and Pulsar brokers/proxies use this mechanism to authenticate clients.</p>
</div>
<div class="paragraph">
<p>Clients can be configured in <code>application.properties</code> file using <code>authPluginClassName</code> and <code>authParams</code> attributes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">pulsar.client.serviceUrl=pulsar://pulsar:6650
pulsar.client.authPluginClassName=org.apache.pulsar.client.impl.auth.AuthenticationBasic
pulsar.client.authParams={"userId":"superuser","password":"admin"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or programmatically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.util.Map;

import jakarta.enterprise.inject.Produces;
import io.smallrye.common.annotation.Identifier;
import org.apache.pulsar.client.impl.conf.ClientConfigurationData;
import org.apache.pulsar.client.impl.auth.AuthenticationBasic;

class PulsarConfig {

    @Produces
    @Identifier("prices")
    public ClientConfigurationData config() {
        var data = new ClientConfigurationData();
        var auth = new AuthenticationBasic();
        auth.configure(Map.of("userId", "superuser", "password", "admin"));
        data.setAuthentication(auth);
        return data;
    }
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="configuring-access-to-datastax-luna-streaming"><a class="anchor" href="#configuring-access-to-datastax-luna-streaming"></a>9.1.1. Configuring access to Datastax Luna Streaming</h4>
<div class="paragraph">
<p>Luna Streaming is a production-ready distribution of Apache Pulsar, with tools and support from DataStax.
After creating your DataStax Luna Pulsar tenant, note the auto generated token, and configure the token authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">pulsar.client.serviceUrl=pulsar+ssl://pulsar-aws-eucentral1.streaming.datastax.com:6651
pulsar.client.authPluginClassName=org.apache.pulsar.client.impl.auth.AuthenticationToken
pulsar.client.authParams=token:eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2ODY4MTc4MzQsImlzcyI6ImRhdGFzdGF4Iiwic3ViIjoiY2xpZW50OzA3NGZhOTI4LThiODktNDBhNC04MDEzLWNlNjVkN2JmZWIwZTtjSEpwWTJWejsyMDI5ODdlOGUyIiwidG9rZW5pZCI6IjIwMjk4N2U4ZTIifQ....</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure to create topics beforehand, or enable the <em>Auto Topic Creation</em> in the namespace configuration.</p>
</div>
<div class="paragraph">
<p>Note that the topic configuration needs to reference full name of topics:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.topic=persistent://my-tenant/default/prices</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuring-access-to-streamnative-cloud"><a class="anchor" href="#configuring-access-to-streamnative-cloud"></a>9.1.2. Configuring access to StreamNative Cloud</h4>
<div class="paragraph">
<p>StreamNative Cloud is a fully managed Pulsar-as-a-Service available in different deployment options,
whether it is fully-hosted, on a public cloud but managed by StreamNative or self-managed on Kubernetes.</p>
</div>
<div class="paragraph">
<p>The StreamNative Pulsar clusters use Oauth2 authentication,
so you need to make sure that a <a href="https://docs.streamnative.io/docs/service-account">service account</a> exists with
required <a href="https://docs.streamnative.io/docs/access-control#authorize-namespaces">permissions to the Pulsar namespace/topic</a> your application is using.</p>
</div>
<div class="paragraph">
<p>Next, you need to download the <strong>Key file</strong> (which serves as <strong>private key</strong>) of the service account and note the <strong>issuer URL</strong> (typically <code><a href="https://auth.streamnative.cloud/" class="bare">https://auth.streamnative.cloud/</a></code>)
and the <strong>audience</strong> (for example <code>urn:sn:pulsar:o-rf3ol:redhat</code>) for your cluster.
The <strong>Pulsar Clients</strong> page in the <strong>Admin</strong> section in the StreamNative Cloud console helps you with this process.</p>
</div>
<div class="paragraph">
<p>To configure your application with Pulsar Oauth2 authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">pulsar.tenant=public
pulsar.namespace=default
pulsar.client.serviceUrl=pulsar+ssl://quarkus-71eaadbf-a6f3-4355-85d2-faf436b23d86.aws-euc1-prod-snci-pool-slug.streamnative.aws.snio.cloud:6651
pulsar.client.authPluginClassName=org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2
pulsar.client.authParams={"type":"client_credentials","privateKey":"data:application/json;base64,&lt;base64-encoded value&gt;","issuerUrl":"https://auth.streamnative.cloud/","audience":"urn:sn:pulsar:o-rfwel:redhat"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>pulsar.client.authParams</code> configuration contains a Json string with <code>issuerUrl</code>, <code>audience</code> and the <code>privateKey</code> in the <code>data:application/json;base64,&lt;base64-encoded-key-file&gt;</code> format.</p>
</div>
<div class="paragraph">
<p>Alternatively you can configure the authentication programmatically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.pulsar;

import java.net.MalformedURLException;
import java.net.URL;

import org.apache.pulsar.client.impl.auth.oauth2.AuthenticationFactoryOAuth2;
import org.apache.pulsar.client.impl.conf.ClientConfigurationData;
import org.eclipse.microprofile.config.inject.ConfigProperty;

import io.smallrye.common.annotation.Identifier;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.enterprise.inject.Produces;

@ApplicationScoped
public class PulsarAuth {

    @ConfigProperty(name = "pulsar.issuerUrl")
    String issuerUrl;

    @ConfigProperty(name = "pulsar.credentials")
    String credentials;

    @ConfigProperty(name = "pulsar.audience")
    String audience;

    @Produces
    @Identifier("pulsar-auth")
    public ClientConfigurationData pulsarClientConfig() throws MalformedURLException {
        var data = new ClientConfigurationData();
        data.setAuthentication(AuthenticationFactoryOAuth2.clientCredentials(new URL(issuerUrl), PulsarAuth.class.getResource(credentials), audience));
        return data;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This assumes that the key file is included to the application classpath as a resource, then the configuration would like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.client-configuration=pulsar-auth

pulsar.tenant=public
pulsar.namespace=default
pulsar.client.serviceUrl=pulsar+ssl://quarkus-71eaadbf-a6f3-4355-85d2-faf436b23d86.aws-euc1-prod-snci-pool-slug.streamnative.aws.snio.cloud:6651
pulsar.issuerUrl=https://auth.streamnative.cloud/
pulsar.audience=urn:sn:pulsar:o-rfwel:redhat
pulsar.credentials=/o-rfwel-quarkus-app.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that channels using the client configuration identified with <code>pulsar-auth</code> need to set the <code>client-configuration</code> attribute.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pulsar-health-check"><a class="anchor" href="#pulsar-health-check"></a>10. Verificações de Integridade</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Quarkus extension reports startup, readiness and liveness of each channel managed by the Pulsar connector.
Health checks rely on the Pulsar client to verify that a connection is established with the broker.</p>
</div>
<div class="paragraph">
<p><strong>Startup</strong> and <strong>Readiness</strong> probes for both inbound and outbound channels report <strong>OK</strong> when the
connection with the broker is established.</p>
</div>
<div class="paragraph">
<p>The <strong>Liveness</strong> probe for both inbound and outbound channels reports <strong>OK</strong>  when the
connection is established with the broker <strong>AND</strong> that no failures have been caught.</p>
</div>
<div class="paragraph">
<p>Note that a message processing failures <strong>nacks</strong> the message which is
then handled by the failure-strategy. It is the responsibility of the
failure-strategy to report the failure and influence the outcome of the
liveness checks. The <code>fail</code> failure strategy reports the failure and so
the liveness check will report the failure.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>11. Referência de configuração</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Following are the list of configuration attributes for the Pulsar connector channels, consumers, producers and clients.
See the <a href="#pulsar-client-configuration">Pulsar Client Configuration</a> for more information on how the Pulsar clients are configured.</p>
</div>
<div class="sect2">
<h3 id="incoming-channel-configuration-receiving-from-pulsar"><a class="anchor" href="#incoming-channel-configuration-receiving-from-pulsar"></a>11.1. Incoming channel configuration (receiving from Pulsar)</h3>
<div class="paragraph">
<p>Os seguintes atributos são configurados utilizando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.your-channel-name.attribute=value</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Atributos de entrada do conector 'smallrye-pulsar'</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atributo (<em>alias</em>)</th>
<th class="tableblock halign-left valign-top">Descrição</th>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top">Obrigatório</th>
<th class="tableblock halign-left valign-top">Padrão</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ack-strategy</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Especifique a estratégia de confirmação a ser aplicada quando uma mensagem produzida a partir de um registro for reconhecida. Os valores podem ser 'ack', 'cumulativos'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ack</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ackTimeout.redeliveryBackoff</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valores separados por vírgulas para configurar o tempo limite do ack MultiplierRedeliveryBackoff, min delay, max delay, multiplicador.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchReceive</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o recebimento em lote é usado para consumir mensagens</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>client-configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identificador de um bean CDI que fornece a configuração padrão do cliente Pulsar para esse canal. A configuração do canal ainda pode substituir qualquer atributo. O bean deve ter um tipo de Map&lt;String, Object&gt; e deve usar o qualificador @io.smallrye.common.annotation.Identifier para definir o identificador.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>consumer-configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identificador de um bean CDI que fornece a configuração padrão do consumidor Pulsar para esse canal. A configuração do canal ainda pode substituir qualquer atributo. O bean deve ter um tipo de Map&lt;String, Object&gt; e deve usar o qualificador @io.smallrye.common.annotation.Identifier para definir o identificador.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>deadLetterPolicy.deadLetterTopic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do tópico de dead letter para onde as mensagens com falha serão enviadas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>deadLetterPolicy.initialSubscriptionName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do nome da assinatura inicial do tópico de dead letter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>deadLetterPolicy.maxRedeliverCount</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Número máximo de vezes que uma mensagem será entregue novamente antes de ser enviada para o tópico de letra morta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>deadLetterPolicy.retryLetterTopic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do tópico de repetição para onde as mensagens com falha serão enviadas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>failure-strategy</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Especifique a estratégia de falha a ser aplicada quando uma mensagem produzida a partir de um registro for reconhecida negativamente (nack). Os valores podem ser 'nack' (padrão), 'fail', 'ignore' ou 'reconsume-later</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nack</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>health-enabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o relatório de integridade está habilitado (padrão) ou desabilitado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>negativeAck.redeliveryBackoff</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valores separados por vírgulas para configurar o ack negativo MultiplierRedeliveryBackoff, min delay, max delay, multiplicador.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reconsumeLater.delay</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Atraso padrão para estratégia de falha de reconsumo, em segundos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schema</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tipo de esquema Pulsar deste canal. Quando configurado, um esquema é criado com o SchemaType fornecido e usado para o canal. Quando ausente, o esquema é resolvido procurando um bean CDI digitado 'Esquema' qualificado com '@Identifier' e o nome do canal. Como fallback AUTO_CONSUME ou AUTO_PRODUCE são usados.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>serviceUrl</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A URL do serviço Pulsar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pulsar://localhost:6650</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tópico Pulsar consumido/povoado. Se não estiver definido, o nome do canal será usado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tracing-enabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o rastreamento está habilitado (padrão) ou desabilitado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can also configure properties supported by the underlying Pulsar consumer.</p>
</div>
<div class="paragraph">
<p>These properties can also be globally configured using <code>pulsar.consumer</code> prefix:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">pulsar.consumer.subscriptionInitialPosition=Earliest</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Atributos do consumidor Pulsar</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atributo</th>
<th class="tableblock halign-left valign-top">Descrição</th>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top">Arquivo de configuração</th>
<th class="tableblock halign-left valign-top">Padrão</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topicNames</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do tópico</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conjunto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topicsPattern</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Padrão de tópico</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Padrão</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subscriptionName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome da assinatura</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subscriptionType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipo de assinatura.<br>
Quatro tipos de assinatura estão disponíveis:<br>
* Exclusive<br>
* Failover<br>
* Shared<br>
* Key_Shared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SubscriptionType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclusive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subscriptionProperties</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subscriptionMode</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SubscriptionMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Durable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageListener</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MessageListener</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>consumerEventListener</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsumerEventListener</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>negativeAckRedeliveryBackoff</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface para mensagem personalizada é política negativeAcked. Você pode especificar 'RedeliveryBackoff' para um consumidor.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedeliveryBackoff</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ackTimeoutRedeliveryBackoff</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface para mensagem personalizada é a política ackTimeout. Você pode especificar 'RedeliveryBackoff' para um consumidor.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedeliveryBackoff</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>receiverQueueSize</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tamanho da fila de destinatários de um consumidor.<br>
Por exemplo, o número de mensagens acumuladas por um consumidor antes de um aplicativo chamar 'Receber'.<br>
Um valor maior que o valor padrão aumenta a taxa de transferência do consumidor, embora às custas de mais utilização de memória.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>acknowledgementsGroupTimeMicros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Agrupe uma confirmação de consumidor por um tempo especificado.<br>
Por padrão, um consumidor usa o tempo de agrupamento de 100ms para enviar confirmações a um corretor.<br>
Definir um tempo de grupo de 0 envia confirmações imediatamente.<br>
Um tempo de grupo mais longo é mais eficiente às custas de um ligeiro aumento nas reentregas de mensagens após uma falha.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxAcknowledgmentGroupSize</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Agrupe uma confirmação de consumidor para o número de mensagens.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>negativeAckRedeliveryDelayMicros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Atraso para aguardar antes de entregar novamente as mensagens que não puderam ser processadas.<br>
Quando um aplicativo usa 'Consumer#negativeAcknowledge(Message)', as mensagens com falha são entregues novamente após um tempo limite fixo.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxTotalReceiverQueueSizeAcrossPartitions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tamanho máximo total da fila do receptor nas partições.<br>
Essa configuração reduz o tamanho da fila do receptor para partições individuais se o tamanho total da fila do receptor exceder esse valor.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>consumerName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do consumidor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ackTimeoutMillis</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tempo limite de mensagens não acked</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tickDurationMillis</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Granularidade da reentrega do tempo limite de ack.<br>
Usar um 'tickDurationMillis' mais alto reduz a sobrecarga de memória para rastrear mensagens ao definir o tempo limite de ack-para um valor maior (por exemplo, 1 hora).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>priorityLevel</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nível de prioridade para um consumidor ao qual um corretor dá mais prioridade ao enviar mensagens no tipo de assinatura compartilhada.<br>
O corretor segue prioridades decrescentes. Por exemplo, 0=max-priority, 1, 2,&#8230;&#8203;<br>
No tipo de assinatura compartilhada, o corretor <strong>primeiro envia mensagens para os consumidores de nível máximo de prioridade se eles tiverem permissões</strong>. Caso contrário, o corretor considera os consumidores de nível de prioridade seguinte.<br>
<strong>Exemplo 1</strong><br>
Se uma assinatura tiver consumerA com 'priorityLevel' 0 e consumerB com 'priorityLevel' 1, o corretor <strong>somente despachará mensagens para consumerA até que ele esgote as permissões</strong> e, em seguida, começará a enviar mensagens para consumerB.<br>
<strong>Exemplo 2</strong><br>
Prioridade do Consumidor, Nível, Licenças<br>
C1, 0, 2<br>
C2, 0, 1<br>
C3, 0, 1<br>
C4, 1, 2<br>
C5, 1, 1<br></p>
<p class="tableblock">A ordem em que um corretor envia mensagens para os consumidores é: C1, C2, C3, C1, C4, C5, C4.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxPendingChunkedMessage</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tamanho máximo de uma fila que contém mensagens em partes pendentes. Quando o limite é atingido, o consumidor descarta mensagens pendentes para otimizar a utilização da memória.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoAckOldestChunkedMessageOnQueueFull</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se as mensagens em bloco pendentes devem ser confirmadas automaticamente quando o limite de 'maxPendingChunkedMessage' for atingido. Se definido como 'false', essas mensagens serão reentregues pelo corretor.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expireTimeOfIncompleteChunkedMessageMillis</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O intervalo de tempo para expirar blocos incompletos se um consumidor não receber todos os blocos no período de tempo especificado. O valor padrão é 1 minuto.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cryptoKeyReader</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CryptoKeyReader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageCrypto</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MessageCrypto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cryptoFailureAction</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O consumidor deve agir quando receber uma mensagem que não pode ser descriptografada.<br>
* <strong>FAIL</strong>: esta é a opção padrão para falhar mensagens até que a criptografia seja bem-sucedida.<br>
* <strong>DESCARTAR</strong>:reconhecer silenciosamente e não entregar mensagem a um aplicativo.<br>
* <strong>CONSUME</strong>: entregar mensagens criptografadas para aplicativos. É responsabilidade do aplicativo descriptografar a mensagem.</p>
<p class="tableblock">A descompactação da mensagem falha.</p>
<p class="tableblock">Se as mensagens contiverem mensagens em lote, um cliente não poderá recuperar mensagens individuais em lote.</p>
<p class="tableblock">A mensagem criptografada entregue contém 'EncryptionContext' que contém informações de criptografia e compactação usando qual aplicativo pode descriptografar a carga útil da mensagem consumida.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsumerCryptoFailureAction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAIL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>properties</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Um nome ou propriedade de valor desse consumidor.</p>
<p class="tableblock">'propriedades' são metadados definidos pelo aplicativo anexados a um consumidor.</p>
<p class="tableblock">Ao obter estatísticas de tópico, associe esses metadados às estatísticas do consumidor para facilitar a identificação.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SortedMap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>readCompacted</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se habilitar 'readCompacted', um consumidor lerá mensagens de um tópico compactado em vez de ler uma lista de pendências de mensagens completa de um tópico.</p>
<p class="tableblock">Um consumidor só vê o valor mais recente para cada chave no tópico compactado, até chegar ao ponto na mensagem de tópico ao compactar a lista de pendências. Além desse ponto, envie mensagens normalmente.</p>
<p class="tableblock">Habilitar apenas 'readCompacted' em assinaturas de tópicos persistentes, que tenham um único consumidor ativo (como falha ou assinaturas exclusivas).</p>
<p class="tableblock">A tentativa de habilitá-lo em assinaturas de tópicos não persistentes ou em assinaturas compartilhadas leva a uma chamada de assinatura lançando um 'PulsarClientException'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subscriptionInitialPosition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Posição inicial na qual definir o cursor ao se inscrever em um tópico pela primeira vez.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SubscriptionInitialPosition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>patternAutoDiscoveryPeriod</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Período de descoberta automática de tópicos ao usar um padrão para o consumidor do tópico.</p>
<p class="tableblock">O valor padrão e mínimo é 1 minuto.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>regexSubscriptionMode</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ao assinar um tópico usando uma expressão regular, você pode escolher um determinado tipo de tópicos.</p>
<p class="tableblock">* <strong>PersistentOnly</strong>: inscreva-se apenas em tópicos persistentes.<br>
* <strong>NonPersistentOnly</strong>: inscreva-se apenas em tópicos não persistentes.<br>
* <strong>AllTopics</strong>: inscreva-se em tópicos persistentes e não persistentes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegexSubscriptionMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PersistentOnly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>deadLetterPolicy</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Política de dead letter para os consumidores.</p>
<p class="tableblock">Por padrão, algumas mensagens provavelmente são reentregues muitas vezes, até mesmo na medida em que nunca param.</p>
<p class="tableblock">Usando o mecanismo de dead letter, as mensagens têm a contagem máxima de reentrega. <strong>Ao exceder o número máximo de reentregas, as mensagens são enviadas para o Tópico de Dead Letter e reconhecidas automaticamente</strong>.</p>
<p class="tableblock">Você pode ativar o mecanismo de letra morta definindo 'deadLetterPolicy'.</p>
<p class="tableblock">Ao especificar a política de dead letter enquanto não especifica 'ackTimeoutMillis', você pode definir o tempo limite de ack para 30000 milissegundos.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeadLetterPolicy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>retryEnable</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchReceivePolicy</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BatchReceivePolicy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoUpdatePartitions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>autoUpdatePartitions</code> is enabled, a consumer subscribes to partition increasement automatically.</p>
<p class="tableblock"><strong>Note</strong>: this is only for partitioned consumers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoUpdatePartitionsIntervalSeconds</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>replicateSubscriptionState</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se 'replicateSubscriptionState' estiver habilitado, um estado de assinatura será replicado para clusters replicados geograficamente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>resetIncludeHead</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>keySharedPolicy</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">KeySharedPolicy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchIndexAckEnabled</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ackReceiptEnabled</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>poolMessages</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>payloadProcessor</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MessagePayloadProcessor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>startPaused</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoScaledReceiverQueueSizeEnabled</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topicConfigurations</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="outgoing-channel-configuration-publishing-to-pulsar"><a class="anchor" href="#outgoing-channel-configuration-publishing-to-pulsar"></a>11.2. Outgoing channel configuration (publishing to Pulsar)</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Atributos de saída do conector 'smallrye-pulsar'</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atributo (<em>alias</em>)</th>
<th class="tableblock halign-left valign-top">Descrição</th>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top">Obrigatório</th>
<th class="tableblock halign-left valign-top">Padrão</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>client-configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identificador de um bean CDI que fornece a configuração padrão do cliente Pulsar para esse canal. A configuração do canal ainda pode substituir qualquer atributo. O bean deve ter um tipo de Map&lt;String, Object&gt; e deve usar o qualificador @io.smallrye.common.annotation.Identifier para definir o identificador.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>health-enabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o relatório de integridade está habilitado (padrão) ou desabilitado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxPendingMessages</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tamanho máximo de uma fila que contém mensagens pendentes, ou seja, mensagens aguardando para receber uma confirmação de um broker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>producer-configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identificador de um bean CDI que fornece a configuração padrão do produtor Pulsar para esse canal. A configuração do canal ainda pode substituir qualquer atributo. O bean deve ter um tipo de Map&lt;String, Object&gt; e deve usar o qualificador @io.smallrye.common.annotation.Identifier para definir o identificador.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schema</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tipo de esquema Pulsar deste canal. Quando configurado, um esquema é criado com o SchemaType fornecido e usado para o canal. Quando ausente, o esquema é resolvido procurando um bean CDI digitado 'Esquema' qualificado com '@Identifier' e o nome do canal. Como fallback AUTO_CONSUME ou AUTO_PRODUCE são usados.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>serviceUrl</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A URL do serviço Pulsar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pulsar://localhost:6650</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tópico Pulsar consumido/povoado. Se não estiver definido, o nome do canal será usado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tracing-enabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o rastreamento está habilitado (padrão) ou desabilitado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>waitForWriteCompletion</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o cliente espera que o broker reconheça o registro escrito antes de reconhecer a mensagem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can also configure properties supported by the underlying Pulsar producer.</p>
</div>
<div class="paragraph">
<p>These properties can also be globally configured using <code>pulsar.producer</code> prefix:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">pulsar.producer.batchingEnabled=false</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Atributos do produtor Pulsar</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atributo</th>
<th class="tableblock halign-left valign-top">Descrição</th>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top">Arquivo de configuração</th>
<th class="tableblock halign-left valign-top">Padrão</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topicName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do tópico</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>producerName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do produtor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sendTimeoutMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tempo limite de envio de mensagem em ms.<br>
Se uma mensagem não for reconhecida por um servidor antes que o 'sendTimeout' expire, ocorrerá um erro.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>blockIfQueueFull</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se estiver definido como 'true', quando a fila de mensagens de saída estiver cheia, os métodos 'Send' e 'SendAsync' do produtor bloqueiam, em vez de falhar e lançar erros.<br>
Se ele estiver definido como 'false', quando a fila de mensagens de saída estiver cheia, os métodos 'Send' e 'SendAsync' do produtor falham e as exceções 'ProducerQueueIsFullError' ocorrem.</p>
<p class="tableblock">O parâmetro 'MaxPendingMessages' determina o tamanho da fila de mensagens de saída.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxPendingMessages</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O tamanho máximo de uma fila que contém mensagens pendentes.</p>
<p class="tableblock">Por exemplo, uma mensagem aguardando para receber uma confirmação de um <a href="https://pulsar.apache.org/docs/reference-terminologia#broker">broker</a>.</p>
<p class="tableblock">Por padrão, quando a fila está cheia, todas as chamadas para os métodos 'Send' e 'SendAsync' falham **a menos que você defina 'BlockIfQueueFull' como 'true'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxPendingMessagesAcrossPartitions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O número máximo de mensagens pendentes entre partições.</p>
<p class="tableblock">Use a configuração para diminuir o máximo de mensagens pendentes para cada partição ('#setMaxPendingMessages(int)') se o número total exceder o valor configurado.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageRoutingMode</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lógica de roteamento de mensagens para produtores em <a href="https://pulsar.apache.org/docs/concepts-architecture-overview#partitioned-topics">partitioned topics</a>.<br>
Aplique a lógica somente ao definir nenhuma tecla nas mensagens.<br>
As opções disponíveis são as seguintes:<br>
* 'pulsar. RoundRobinDistribution': round robin<br>
* 'pulsar. UseSinglePartition': publicar todas as mensagens em uma única partição<br>
* 'pulsar. CustomPartition': um esquema de particionamento personalizado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MessageRoutingMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>hashingScheme</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Função de hash que determina a partição onde você publica uma mensagem específica (somente tópicos particionados).<br>
As opções disponíveis são as seguintes:<br>
* 'pulsar. JavastringHash': o equivalente a 'string.hashCode()' em Java<br>
* 'pulsar. Murmur3_32Hash': aplica a função de hash <a href="https://en.wikipedia.org/wiki/MurmurHash">Murmur3</a><br>
* 'pulsar. BoostHash': aplica a função de hash da biblioteca <a href="https://www.boost.org/doc/libs/1_62_0/doc/html/hash.html">Boost</a> do C++</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HashingScheme</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JavaStringHash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cryptoFailureAction</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O produtor deve tomar medidas quando a criptografia falhar.<br>
* <strong>FAIL</strong>: se a criptografia falhar, as mensagens não criptografadas não serão enviadas.<br>
* <strong>SEND</strong>: se a criptografia falhar, mensagens não criptografadas serão enviadas.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProducerCryptoFailureAction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAIL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>customMessageRouter</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MessageRouter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchingMaxPublishDelayMicros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Período de tempo de envio de mensagens em lote.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchingPartitionSwitchFrequencyByPublishDelay</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchingMaxMessages</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O número máximo de mensagens permitidas em um lote.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchingMaxBytes</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">131072</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batchingEnabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Habilite o envio em lote de mensagens.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batcherBuilder</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BatcherBuilder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>chunkingEnabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Habilite o fragmento de mensagens.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>chunkMaxMessageSize</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cryptoKeyReader</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CryptoKeyReader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageCrypto</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MessageCrypto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>encryptionKeys</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conjunto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>compressionType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipo de compactação de dados de mensagem usado por um produtor.<br>
Opções disponíveis:<br>
* <a href="https://github.com/lz4/lz4">LZ4</a><br>
* <a href="https://zlib.net/">ZLIB</a><br>
* <a href="https://facebook.github.io/zstd/">ZSTD</a><br>
* <a href="https://google.github.io/snappy/">SNAPPY</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompressionType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>initialSequenceId</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoUpdatePartitions</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoUpdatePartitionsIntervalSeconds</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>multiSchema</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>accessMode</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProducerAccessMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shared</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lazyStartPartitionedProducers</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>properties</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SortedMap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>initialSubscriptionName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use essa configuração para criar automaticamente uma assinatura inicial ao criar um tópico. Se esse campo não estiver definido, a assinatura inicial não será criada.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="pulsar-client-configuration"><a class="anchor" href="#pulsar-client-configuration"></a>11.3. Pulsar Client Configuration</h3>
<div class="paragraph">
<p>Following is the configuration reference for the underlying <code>PulsarClient</code>.
These options can be configured using the channel attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.your-channel-name.numIoThreads=4</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or configured globally using <code>pulsar.client</code> prefix:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">pulsar.client.serviceUrl=pulsar://pulsar:6650</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Atributos do cliente Pulsar</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atributo</th>
<th class="tableblock halign-left valign-top">Descrição</th>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top">Arquivo de configuração</th>
<th class="tableblock halign-left valign-top">Padrão</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>serviceUrl</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL HTTP do cluster pulsar para se conectar a um broker.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>serviceUrlProvider</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A classe de implementação de ServiceUrlProvider usada para gerar ServiceUrl.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceUrlProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>authentication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurações de autenticação do cliente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autenticação</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>authPluginClassName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome da classe do plugin de autenticação do cliente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>authParams</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parâmetro de autenticação do cliente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>authParamMap</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapa de autenticação do cliente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>operationTimeoutMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tempo limite da operação do cliente (em milissegundos).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lookupTimeoutMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tempo limite de pesquisa do cliente (em milissegundos).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>statsIntervalSeconds</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intervalo para imprimir estatísticas do cliente (em segundos).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>numIoThreads</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Número de threads de E/S.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>numListenerThreads</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Número de threads de consumer listeners.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connectionsPerBroker</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Número de conexões estabelecidas entre o cliente e cada Broker. Um valor 0 significa desabilitar o pool de conexões.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connectionMaxIdleSeconds</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solte a conexão se ela não for usada por mais de [connectionMaxIdleSeconds] segundos. Se [connectionMaxIdleSeconds] &lt; 0, desabilitado o recurso que libera automaticamente as conexões ociosas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>useTcpNoDelay</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se deve usar a opção TCP NoDelay.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>useTls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se deve usar TLS.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsKeyFilePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caminho para o arquivo de chave TLS.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsCertificateFilePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caminho para o arquivo de certificado TLS.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsTrustCertsFilePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caminho para o arquivo de certificado TLS confiável.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsAllowInsecureConnection</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o cliente aceita certificados TLS não confiáveis do broker.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsHostnameVerificationEnable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se o nome do host é validado quando o cliente cria uma conexão TLS com brokers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>concurrentLookupRequest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O número de solicitações de pesquisa simultâneas que podem ser enviadas em cada conexão do broker. Definir um máximo evita sobrecarregar um broker.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxLookupRequest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Número máximo de solicitações de pesquisa permitidas em cada conexão do broker para evitar a sobrecarga de um broker.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxLookupRedirects</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tempos máximos de solicitações de pesquisa redirecionadas.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxNumberOfRejectedRequestPerConnection</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Número máximo de solicitações rejeitadas de um broker em um determinado período de tempo (60 segundos) após a conexão atual ser fechada e o cliente criar uma nova conexão para se conectar a um broker diferente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>keepAliveIntervalSeconds</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Segundos de intervalo de manutenção ativa para cada conexão do broker do cliente.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connectionTimeoutMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duração da espera para que uma conexão com um broker seja estabelecida. Se a duração passar sem uma resposta de um broker, a tentativa de conexão será descartada.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>requestTimeoutMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duração máxima para concluir uma solicitação.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>readTimeoutMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tempo máximo de leitura de uma solicitação.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoCertRefreshSeconds</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Segundos de atualização automática do certificado.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">300</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>initialBackoffIntervalNanos</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intervalo de recuo inicial (em nanossegundos).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100000000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxBackoffIntervalNanos</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intervalo máximo de recuo (em nanossegundos).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>enableBusyWait</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se deseja habilitar BusyWait para EpollEventLoopGroup.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>listenerName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome do ouvinte para pesquisa. Os clientes podem usar listenerName para escolher um dos ouvintes como a URL do serviço para criar uma conexão com o broker, desde que a rede esteja acessível." advertisedListeners" deve ser habilitado no lado do corretor.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>useKeyStoreTls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defina o TLS usando o modo KeyStore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslProvider</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O provedor TLS usado por um cliente interno para autenticar com outros brokers Pulsar.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsKeyStoreType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuração do tipo TLS KeyStore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JKS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsKeyStorePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caminho do TLS KeyStore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsKeyStorePassword</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Senha do TLS KeyStore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsTrustStoreType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuração do tipo TLS TrustStore. Você precisa definir essa configuração quando a autenticação do cliente é necessária.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JKS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsTrustStorePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caminho do TLS TrustStore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsTrustStorePassword</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Senha do TLS TrustStore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsCiphers</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conjunto de cifras TLS.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conjunto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tlsProtocols</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocolos de TLS.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conjunto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>memoryLimitBytes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limite de uso de memória do cliente (em byte). O padrão de 64 milhões pode garantir uma alta taxa de transferência do produtor.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">67108864</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>proxyServiceUrl</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL do serviço de proxy. proxyServiceUrl e proxyProtocol devem ser mutuamente inclusivos.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>proxyProtocol</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocolo do serviço de proxy. proxyServiceUrl e proxyProtocol devem ser mutuamente inclusivos.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProxyProtocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>enableTransaction</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se deve habilitar a transação.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>clock</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relógio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>dnsLookupBindAddress</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O endereço de ligação de pesquisa dns do cliente Pulsar, o comportamento padrão é vincular em 0.0.0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>dnsLookupBindPort</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A porta de ligação de pesquisa dns do cliente Pulsar, entra em vigor quando dnsLookupBindAddress é configurado, o valor padrão é 0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>socks5ProxyAddress</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endereço do proxy SOCKS5.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">InetSocketAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>socks5ProxyUsername</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome de usuário do proxy SOCKS5.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>socks5ProxyPassword</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Senha do proxy SOCKS5.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A descrição extra da versão do cliente. O comprimento não pode exceder 64.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Configuration properties not configurable in configuration files (non-serializable) is noted in the column <code>Config file</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="going-further"><a class="anchor" href="#going-further"></a>12. Indo mais longe</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide has shown how you can interact with Pulsar using Quarkus.
It utilizes SmallRye Reactive Messaging to build data streaming applications.</p>
</div>
<div class="paragraph">
<p>Se quiser ir mais longe, consulte a documentação da <a href="#https://smallrye.io/smallrye-reactive-messaging">Mensageria Reativa do SmallRye</a>, a implementação utilizada no Quarkus.</p>
</div>
</div>
</div>
        </div>
        <div class="grid__item width-4-12 width-12-12-m tocwrapper">
            <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#introduction">1. Introdução</a></li>
<li><a href="#quarkus-extension-for-apache-pulsar">2. Quarkus Extension for Apache Pulsar</a></li>
<li><a href="#configuring-smallrye-pulsar-connector">3. Configuring Smallrye Pulsar Connector</a></li>
<li><a href="#receiving-messages-from-pulsar">4. Receiving messages from Pulsar</a>
<ul class="sectlevel2">
<li><a href="#example">4.1. Exemplo</a></li>
<li><a href="#blocking-processing">4.2. Bloqueando o processamento</a></li>
<li><a href="#pulsar-subscription-types">4.3. Pulsar Subscription Types</a></li>
<li><a href="#deserialization-and-pulsar-schema">4.4. Deserialization and Pulsar Schema</a></li>
<li><a href="#acknowledgement-strategies">4.5. Acknowledgement Strategies</a></li>
<li><a href="#failure-handling-strategies">4.6. Failure Handling Strategies</a></li>
<li><a href="#receiving-pulsar-messages-in-batches">4.7. Receiving Pulsar Messages in Batches</a></li>
</ul>
</li>
<li><a href="#sending-messages-to-pulsar">5. Sending messages to Pulsar</a>
<ul class="sectlevel2">
<li><a href="#example-2">5.1. Exemplo</a></li>
<li><a href="#serialization-and-pulsar-schema">5.2. Serialization and Pulsar Schema</a></li>
<li><a href="#sending-keyvalue-pairs">5.3. Sending key/value pairs</a></li>
<li><a href="#acknowledgement">5.4. Acknowledgement</a></li>
<li><a href="#back-pressure-and-inflight-records">5.5. Back-pressure and inflight records</a></li>
<li><a href="#producer-batching">5.6. Producer Batching</a></li>
</ul>
</li>
<li><a href="#pulsar-transactions-and-exactly-once-processing">6. Pulsar Transactions and Exactly-Once Processing</a>
<ul class="sectlevel2">
<li><a href="#exactly-once-processing">6.1. Processamento Exactly-Once (Exatamente Único)</a></li>
</ul>
</li>
<li><a href="#pulsar-schema-configuration">7. Pulsar Schema Configuration &amp; Auto Schema Discovery</a>
<ul class="sectlevel2">
<li><a href="#auto-schema-discovery">7.1. Auto Schema Discovery</a></li>
</ul>
</li>
<li><a href="#pulsar-dev-services">8. Dev Services para Pulsar</a>
<ul class="sectlevel2">
<li><a href="#enabling-disabling-dev-services-for-pulsar">8.1. Ativando / Desativando Dev Services para o Pulsar</a></li>
<li><a href="#shared-broker">8.2. Broker partilhado</a></li>
<li><a href="#setting-the-port">8.3. Definindo a porta</a></li>
<li><a href="#configuring-the-image">8.4. Configurando a imagem</a></li>
<li><a href="#configuring-the-pulsar-broker">8.5. Configurar o broker Pulsar</a></li>
</ul>
</li>
<li><a href="#configuring-pulsar-clients">9. Configuring Pulsar clients</a>
<ul class="sectlevel2">
<li><a href="#configuring-pulsar-authentication">9.1. Configuring Pulsar Authentication</a></li>
</ul>
</li>
<li><a href="#pulsar-health-check">10. Verificações de Integridade</a></li>
<li><a href="#configuration-reference">11. Referência de configuração</a>
<ul class="sectlevel2">
<li><a href="#incoming-channel-configuration-receiving-from-pulsar">11.1. Incoming channel configuration (receiving from Pulsar)</a></li>
<li><a href="#outgoing-channel-configuration-publishing-to-pulsar">11.2. Outgoing channel configuration (publishing to Pulsar)</a></li>
<li><a href="#pulsar-client-configuration">11.3. Pulsar Client Configuration</a></li>
</ul>
</li>
<li><a href="#going-further">12. Indo mais longe</a></li>
</ul></div>
        </div>
    </div>
    <h2>Conteúdo Relacionado</h2>
    <div class="grid-wrapper relations">
        <div class="grid__item width-6-12 width-12-12-m">
            <h3>Nas mesmas extensões</h3>
            <ul class="related-content">
                
                
                <li class="guide"><a href="/version/3.8/guides/pulsar-dev-services">Dev Services para Pulsar</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/pulsar-getting-started">Getting Started to SmallRye Reactive Messaging with Apache Pulsar</a></li>
                </ul>
        </div>
        <div class="grid__item width-6-12 width-12-12-m">
            <h3>Nos mesmos tópicos</h3>
            <ul class="related-content">
                
                
                <li class="guide"><a href="/version/3.8/guides/pulsar-dev-services">Dev Services para Pulsar</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/pulsar-getting-started">Getting Started to SmallRye Reactive Messaging with Apache Pulsar</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka">Guia de Referência do Apache Kafka</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/rabbitmq-dev-services">Dev Services for RabbitMQ</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka-reactive-getting-started">Introdução ao SmallRye Reactive Messaging com o Apache Kafka</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/rabbitmq">Primeiros passos para o envio de mensagens reativas SmallRye com RabbitMQ</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/messaging-virtual-threads">Quarkus Virtual Thread support with Reactive Messaging</a></li>
                
                
                <li class="reference"><a href="/version/3.8/guides/rabbitmq-reference">Reactive Messaging RabbitMQ Connector Reference Documentation</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/amqp-dev-services">Dev Services para AMQP</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/apicurio-registry-dev-services">Dev Services para Apicurio Registry</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka-dev-services">Dev Services para o Kafka</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/amqp">Getting Started to SmallRye Reactive Messaging with AMQP 1.0</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka-dev-ui">Kafka Dev UI</a></li>
                
                
                <li class="reference"><a href="/version/3.8/guides/amqp-reference">Reactive Messaging AMQP 1.0 Connector Reference Documentation</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka-streams">Usando Apache Kafka Streams</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka-schema-registry-avro">Utilização do Apache Kafka com o Schema Registry e o Avro</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/kafka-schema-registry-json-schema">Using Apache Kafka with Schema Registry and JSON Schema</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/jms">Usando JMS</a></li>
                
                
                <li class="guide"><a href="/version/3.8/guides/reactive-event-bus">Utilizar o barramento de eventos</a></li>
                </ul>
        </div>
        </div>
    </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Eventos</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="https://github.com/commonhaus/artwork/tree/main/projects/quarkus" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guias</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>

# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-09-21 08:24+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/security-keycloak-authorization.adoc:6
#, fuzzy, no-wrap
msgid "Using OpenID Connect (OIDC) and Keycloak to Centralize Authorization"
msgstr "Usando o OpenID Connect (OIDC) e o Keycloak para centralizar a autorização"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:12
#, fuzzy
msgid "This guide demonstrates how your Quarkus application can authorize a bearer token access to protected resources using https://www.keycloak.org/docs/latest/authorization_services/index.html[Keycloak Authorization Services]."
msgstr "Este guia demonstra como a sua aplicação Quarkus pode autorizar o acesso de um token portador a recursos protegidos utilizando  link:https://www.keycloak.org/docs/latest/authorization_services/index.html[os Serviços de Autorização Keycloak]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:14
#, fuzzy
msgid "The `quarkus-keycloak-authorization` extension is based on `quarkus-oidc` and provides a policy enforcer that enforces access to protected resources based on permissions managed by Keycloak and currently can only be used with the Quarkus xref:security-oidc-bearer-token-authentication.adoc[OIDC service applications]."
msgstr "A extensão `quarkus-keycloak-authorization` baseia-se em `quarkus-oidc` e fornece um aplicador de políticas que impõe o acesso a recursos protegidos com base em permissões geridas pelo Keycloak e atualmente só pode ser utilizada com as  link:security-oidc-bearer-token-authentication.html[aplicações de serviço] Quarkus  link:security-oidc-bearer-token-authentication.html[OIDC]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:16
#, fuzzy
msgid "It provides a flexible and dynamic authorization capability based on Resource-Based Access Control."
msgstr "Fornece uma capacidade de autorização flexível e dinâmica baseada no controlo de acesso baseado em recursos."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:18
#, fuzzy
msgid "Instead of explicitly enforcing access based on some specific access control mechanism such as Role-Based Access Control(RBAC), `quarkus-keycloak-authorization` checks whether a request is allowed to access a resource based on its name, identifier or URI by sending a bearer access token verified by `quarkus-oidc` to Keycloak Authorization Services where an authorization decision is made."
msgstr "Em vez de impor explicitamente o acesso com base num mecanismo de controlo de acesso específico, como o Controlo de Acesso Baseado em Funções (RBAC), `quarkus-keycloak-authorization` verifica se um pedido está autorizado a aceder a um recurso com base no seu nome, identificador ou URI, enviando um token de acesso ao portador verificado por `quarkus-oidc` para os Serviços de Autorização Keycloak, onde é tomada uma decisão de autorização."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:20
#, fuzzy
msgid "Use `quarkus-keycloak-authorization` only if you work with Keycloak and have Keycloak Authorization Services enabled to make authorization decisions. Use `quarkus-oidc` if you do not work with Keycloak or work with Keycloak but do not have its Keycloak Authorization Services enabled to make authorization decisions."
msgstr "Utilize `quarkus-keycloak-authorization` apenas se trabalhar com o Keycloak e tiver os Serviços de Autorização do Keycloak activados para tomar decisões de autorização. Utilize `quarkus-oidc` se não trabalhar com o Keycloak ou se trabalhar com o Keycloak mas não tiver os Serviços de Autorização do Keycloak activados para tomar decisões de autorização."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:22
#, fuzzy
msgid "By externalizing authorization from your application, you are allowed to protect your applications using different access control mechanisms as well as avoid re-deploying your application every time your security requirements change, where Keycloak will be acting as a centralized authorization service from where your protected resources and their associated permissions are managed."
msgstr "Ao externalizar a autorização da sua aplicação, é-lhe permitido proteger as suas aplicações usando diferentes mecanismos de controlo de acesso, bem como evitar reimplementar a sua aplicação cada vez que os seus requisitos de segurança mudam, onde o Keycloak actuará como um serviço de autorização centralizado a partir do qual os seus recursos protegidos e as suas permissões associadas são geridos."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:24
#, fuzzy
msgid "See the xref:security-oidc-bearer-token-authentication.adoc[OIDC Bearer token authentication] guide for more information about `Bearer Token` authentication mechanism. It is important to realize that it is the `Bearer Token` authentication mechanism which does the authentication and creates a security identity - while the `quarkus-keycloak-authorization` extension is responsible for applying a Keycloak Authorization Policy to this identity based on the current request path and other policy settings."
msgstr "Consulte o guia de  link:security-oidc-bearer-token-authentication.html[autenticação de token de portador OIDC] para obter mais informações sobre o mecanismo de autenticação `Bearer Token`. É importante perceber que é o mecanismo de autenticação `Bearer Token` que faz a autenticação e cria uma identidade de segurança - enquanto a extensão `quarkus-keycloak-authorization` é responsável por aplicar uma Política de Autorização Keycloak a esta identidade com base no caminho do pedido atual e noutras definições de política."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:26
#, fuzzy
msgid "Please see https://www.keycloak.org/docs/latest/authorization_services/index.html#_enforcer_overview[Keycloak Authorization Services documentation] for more information."
msgstr "Consulte a  link:https://www.keycloak.org/docs/latest/authorization_services/index.html#_enforcer_overview[documentação dos Serviços de Autorização do Keycloak] para obter mais informações."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:27
#, fuzzy, no-wrap
msgid "Prerequisites"
msgstr "Pré-requisitos"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:32
#, fuzzy
msgid "https://stedolan.github.io/jq/[jq tool]"
msgstr "link:https://stedolan.github.io/jq/[ferramenta jq]"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:33
#, fuzzy
msgid "https://www.keycloak.org/docs/latest/server_installation/index.html[Keycloak]"
msgstr "link:https://www.keycloak.org/docs/latest/server_installation/index.html[Capa de chave]"

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:34
#, fuzzy, no-wrap
msgid "Architecture"
msgstr "Arquitetura"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:37
#, fuzzy
msgid "In this example, we build a very simple microservice which offers two endpoints:"
msgstr "Neste exemplo, construímos um microsserviço muito simples que oferece dois pontos finais:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:39
#, fuzzy
msgid "`/api/users/me`"
msgstr "`/api/users/me`"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:40
#, fuzzy
msgid "`/api/admin`"
msgstr "`/api/admin`"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:42
#, fuzzy
msgid "These endpoints are protected and can only be accessed if a client is sending a bearer token along with the request, which must be valid (e.g.: signature, expiration and audience) and trusted by the microservice."
msgstr "Estes pontos de extremidade estão protegidos e só podem ser acedidos se um cliente enviar um token de portador juntamente com o pedido, que deve ser válido (por exemplo: assinatura, expiração e audiência) e merecer a confiança do microsserviço."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:45
#, fuzzy
msgid "The bearer token is issued by a Keycloak Server and represents the subject to which the token was issued for.  For being an OAuth 2.0 Authorization Server, the token also references the client acting on behalf of the user."
msgstr "O token portador é emitido por um servidor Keycloak e representa o sujeito para o qual o token foi emitido. Por ser um Servidor de Autorização OAuth 2.0, o token também faz referência ao cliente que actua em nome do utilizador."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:49
#, fuzzy
msgid "The `/api/users/me` endpoint can be accessed by any user with a valid token.  As a response, it returns a JSON document with details about the user where these details are obtained from the information carried on the token.  This endpoint is protected with RBAC (Role-Based Access Control) and only users granted with the `user` role can access this endpoint."
msgstr "O ponto de extremidade `/api/users/me` pode ser acedido por qualquer utilizador com um token válido. Como resposta, devolve um documento JSON com detalhes sobre o utilizador, sendo estes detalhes obtidos a partir das informações contidas no token. Este ponto final está protegido com RBAC (Role-Based Access Control) e apenas os utilizadores a quem foi concedida a função `user` podem aceder a este ponto final."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:51
#, fuzzy
msgid "The `/api/admin` endpoint is protected with RBAC (Role-Based Access Control) and only users granted with the `admin` role can access it."
msgstr "O ponto final `/api/admin` está protegido com RBAC (Controlo de Acesso Baseado em Funções) e apenas os utilizadores a quem foi concedida a função `admin` podem aceder ao mesmo."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:55
#, fuzzy
msgid "This is a very simple example using RBAC policies to govern access to your resources.  However, Keycloak supports other types of policies that you can use to perform even more fine-grained access control.  By using this example, you'll see that your application is completely decoupled from your authorization policies with enforcement being purely based on the accessed resource."
msgstr "Este é um exemplo muito simples de utilização de políticas RBAC para controlar o acesso aos seus recursos. No entanto, o Keycloak suporta outros tipos de políticas que podem ser utilizadas para efetuar um controlo de acesso ainda mais refinado. Ao utilizar este exemplo, verá que a sua aplicação está completamente dissociada das suas políticas de autorização, sendo a aplicação puramente baseada no recurso acedido."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:56
#, fuzzy, no-wrap
msgid "Solution"
msgstr "Solução"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:60
#, fuzzy
msgid "We recommend that you follow the instructions in the next sections and create the application step by step.  However, you can go right to the completed example."
msgstr "Recomendamos que siga as instruções nas secções seguintes e crie a aplicação passo a passo. No entanto, pode ir diretamente para o exemplo completo."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:62
#, fuzzy
msgid "Clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]."
msgstr "Clonar o repositório Git: `git clone {quickstarts-clone-url}`, ou descarregar um {quickstarts-archive-url}[arquivo]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:64
#, fuzzy
msgid "The solution is located in the `security-keycloak-authorization-quickstart` link:{quickstarts-tree-url}/security-keycloak-authorization-quickstart[directory]."
msgstr "A solução está localizada no  link:{quickstarts-tree-url}/security-keycloak-authorization-quickstart[diretório] `security-keycloak-authorization-quickstart`."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:65
#, fuzzy, no-wrap
msgid "Creating the Project"
msgstr "Criar o projeto"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:69
#, fuzzy
msgid "First, we need a new project.  Create a new project with the following command:"
msgstr "Primeiro, precisamos de um novo projeto. Crie um novo projeto com o seguinte comando:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:75
#, fuzzy
msgid "This command generates a project, importing the `keycloak-authorization` extension which is an implementation of a Keycloak Adapter for Quarkus applications and provides all the necessary capabilities to integrate with a Keycloak Server and perform bearer token authorization."
msgstr "Este comando gera um projeto, importando a extensão `keycloak-authorization`, que é uma implementação de um adaptador Keycloak para aplicações Quarkus e fornece todas as capacidades necessárias para se integrar com um servidor Keycloak e executar a autorização de token de portador."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:78
#, fuzzy
msgid "If you already have your Quarkus project configured, you can add the `oidc` and `keycloak-authorization` extensions to your project by running the following command in your project base directory:"
msgstr "Se já tiver o seu projeto Quarkus configurado, pode adicionar as extensões `oidc` e `keycloak-authorization` ao seu projeto executando o seguinte comando no diretório base do seu projeto:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:83
#, fuzzy
msgid "This will add the following to your build file:"
msgstr "Isto irá adicionar o seguinte ao seu ficheiro de compilação:"

#. type: Block title
#: upstream/_guides/security-keycloak-authorization.adoc:85
#, fuzzy, no-wrap
msgid "pom.xml"
msgstr "pom.xml"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:95
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-oidc</artifactId>\n"
"</dependency>\n"
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-keycloak-authorization</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Block title
#: upstream/_guides/security-keycloak-authorization.adoc:98
#, fuzzy, no-wrap
msgid "build.gradle"
msgstr "build.gradle"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:102
#, no-wrap
msgid ""
"implementation(\"io.quarkus:quarkus-oidc\")\n"
"implementation(\"io.quarkus:quarkus-keycloak-authorization\")\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:106
#, fuzzy
msgid "Let's start by implementing the `/api/users/me` endpoint.  As you can see from the source code below it is just a regular Jakarta REST resource:"
msgstr "Vamos começar implementando o ponto de extremidade `/api/users/me`. Como pode ver no código-fonte abaixo, trata-se apenas de um recurso Jakarta REST normal:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:110
#: upstream/_guides/security-keycloak-authorization.adoc:152
#, no-wrap
msgid "package org.acme.security.keycloak.authorization;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:114
#, no-wrap
msgid ""
"import jakarta.inject.Inject;\n"
"import jakarta.ws.rs.GET;\n"
"import jakarta.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:116
#, no-wrap
msgid "import org.jboss.resteasy.annotations.cache.NoCache;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:118
#, no-wrap
msgid "import io.quarkus.security.identity.SecurityIdentity;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:121
#, no-wrap
msgid ""
"@Path(\"/api/users\")\n"
"public class UsersResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:124
#: upstream/_guides/security-keycloak-authorization.adoc:438
#, no-wrap
msgid ""
"    @Inject\n"
"    SecurityIdentity identity;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:131
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/me\")\n"
"    @NoCache\n"
"    public User me() {\n"
"        return new User(identity);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:133
#, no-wrap
msgid "    public static class User {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:135
#, no-wrap
msgid "        private final String userName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:139
#, no-wrap
msgid ""
"        User(SecurityIdentity identity) {\n"
"            this.userName = identity.getPrincipal().getName();\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:145
#, no-wrap
msgid ""
"        public String getUserName() {\n"
"            return userName;\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:148
#, fuzzy
msgid "The source code for the `/api/admin` endpoint is also very simple:"
msgstr "O código-fonte do ponto de extremidade `/api/admin` também é muito simples:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:157
#, no-wrap
msgid ""
"import jakarta.ws.rs.GET;\n"
"import jakarta.ws.rs.Path;\n"
"import jakarta.ws.rs.Produces;\n"
"import jakarta.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:159
#, no-wrap
msgid "import io.quarkus.security.Authenticated;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:163
#, no-wrap
msgid ""
"@Path(\"/api/admin\")\n"
"@Authenticated\n"
"public class AdminResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:170
#, no-wrap
msgid ""
"    @GET\n"
"    @Produces(MediaType.TEXT_PLAIN)\n"
"    public String admin() {\n"
"        return \"granted\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:174
#, fuzzy
msgid "Note that we did not define any annotation such as `@RolesAllowed` to explicitly enforce access to a resource.  The extension will be responsible to map the URIs of the protected resources you have in Keycloak and evaluate the permissions accordingly, granting or denying access depending on the permissions that will be granted by Keycloak."
msgstr "Note-se que não definimos qualquer anotação, como `@RolesAllowed`, para impor explicitamente o acesso a um recurso. A extensão será responsável por mapear os URIs dos recursos protegidos que tem no Keycloak e avaliar as permissões em conformidade, concedendo ou negando o acesso em função das permissões que serão concedidas pelo Keycloak."

#. type: Title ===
#: upstream/_guides/security-keycloak-authorization.adoc:175
#, fuzzy, no-wrap
msgid "Configuring the application"
msgstr "Configurar a aplicação"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:178
#, fuzzy
msgid "The OpenID Connect extension allows you to define the adapter configuration using the `application.properties` file which should be located at the `src/main/resources` directory."
msgstr "A extensão OpenID Connect permite-lhe definir a configuração do adaptador utilizando o ficheiro `application.properties` que deve estar localizado no diretório `src/main/resources`."

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:186
#, no-wrap
msgid ""
"# OIDC Configuration\n"
"%prod.quarkus.oidc.auth-server-url=https://localhost:8543/realms/quarkus\n"
"quarkus.oidc.client-id=backend-service\n"
"quarkus.oidc.credentials.secret=secret\n"
"quarkus.oidc.tls.verification=none\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:189
#, no-wrap
msgid ""
"# Enable Policy Enforcement\n"
"quarkus.keycloak.policy-enforcer.enable=true\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:193
#, no-wrap
msgid ""
"# Tell Dev Services for Keycloak to import the realm file\n"
"# This property is not effective when running the application in JVM or Native modes\n"
"quarkus.keycloak.devservices.realm-path=quarkus-realm.json\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:196
#, fuzzy
msgid "Adding a `%prod.` profile prefix to `quarkus.oidc.auth-server-url` ensures that `Dev Services for Keycloak` will launch a container for you when the application is run in a dev mode. See xref:keycloak-dev-mode[Running the Application in Dev mode] section below for more information."
msgstr "Adicionar um prefixo de perfil `%prod.` a `quarkus.oidc.auth-server-url` garante que `Dev Services for Keycloak` irá lançar um contentor para si quando a aplicação for executada em modo de desenvolvimento. Consulte a secção  link:#keycloak-dev-mode[Executar a aplicação em modo de] desenvolvimento abaixo para obter mais informações."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:198
#, fuzzy
msgid "By default, applications using the `quarkus-oidc` extension are marked as a `service` type application (see `quarkus.oidc.application-type`). This extension also supports only `web-app` type applications but only if the access token returned as part of the authorization code grant response is marked as a source of roles: `quarkus.oidc.roles.source=accesstoken` (`web-app` type applications check ID token roles by default)."
msgstr "Por defeito, as aplicações que utilizam a extensão `quarkus-oidc` são marcadas como uma aplicação do tipo `service` (ver `quarkus.oidc.application-type`). Esta extensão também suporta apenas aplicações do tipo `web-app`, mas apenas se o token de acesso devolvido como parte da resposta de concessão do código de autorização estiver marcado como uma fonte de funções: `quarkus.oidc.roles.source=accesstoken` (as aplicações do tipo `web-app` verificam as funções do token de ID por predefinição)."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:199
#, fuzzy, no-wrap
msgid "Starting and Configuring the Keycloak Server"
msgstr "Iniciando e configurando o servidor Keycloak"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:202
#, fuzzy
msgid "Do not start the Keycloak server when you run the application in a dev mode - `Dev Services for Keycloak` will launch a container. See xref:keycloak-dev-mode[Running the Application in Dev mode] section below for more information."
msgstr "Não inicie o servidor Keycloak quando executar a aplicação em modo de desenvolvimento - `Dev Services for Keycloak` irá lançar um contentor. Consulte a secção  link:#keycloak-dev-mode[Executar a aplicação em modo de] desenvolvimento abaixo para obter mais informações."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:204
#, fuzzy
msgid "To start a Keycloak Server you can use Docker and just run the following command:"
msgstr "Para iniciar um servidor Keycloak, pode utilizar o Docker e executar o seguinte comando:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:208
#, no-wrap
msgid "docker run --name keycloak -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin -p 8543:8443 -v \"$(pwd)\"/config/keycloak-keystore.jks:/etc/keycloak-keystore.jks quay.io/keycloak/keycloak:{keycloak.version} start  --hostname-strict=false --https-key-store-file=/etc/keycloak-keystore.jks\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:211
#, fuzzy
msgid "where `keycloak.version` should be set to `17.0.0` or higher."
msgstr "em que `keycloak.version` deve ser definido como `17.0.0` ou superior."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:213
#, fuzzy
msgid "You should be able to access your Keycloak Server at https://localhost:8543[localhost:8543]."
msgstr "Deverá poder aceder ao seu servidor Keycloak em  link:https://localhost:8543[localhost:8543]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:216
#, fuzzy
msgid "Log in as the `admin` user to access the Keycloak Administration Console.  Username should be `admin` and password `admin`."
msgstr "Inicie sessão como o utilizador `admin` para aceder à Consola de Administração do Keycloak. O nome de utilizador deve ser `admin` e a palavra-passe `admin`."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:219
#, fuzzy
msgid "Import the link:{quickstarts-tree-url}/security-keycloak-authorization-quickstart/config/quarkus-realm.json[realm configuration file] to create a new realm.  For more details, see the Keycloak documentation about how to https://www.keycloak.org/docs/latest/server_admin/index.html#_create-realm[create a new realm]."
msgstr "Importar o  link:{quickstarts-tree-url}/security-keycloak-authorization-quickstart/config/quarkus-realm.json[ficheiro de configuração do realm] para criar um novo realm. Para obter mais detalhes, consulte a documentação do Keycloak sobre como  link:https://www.keycloak.org/docs/latest/server_admin/index.html#_create-realm[criar um novo realm]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:221
#, fuzzy
msgid "After importing the realm you can see the resource permissions:"
msgstr "Depois de importar o realm, pode ver as permissões de recursos:"

#. type: Named 'alt' AttributeList argument for macro 'image'
#: upstream/_guides/security-keycloak-authorization.adoc:222
#, fuzzy, no-wrap
msgid "Keycloak"
msgstr "Capa de chave"

#. type: Target for macro image
#: upstream/_guides/security-keycloak-authorization.adoc:222
#, no-wrap
msgid "keycloak-authorization-permissions.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:225
#, fuzzy
msgid "It explains why the endpoint has no `@RolesAllowed` annotations - the resource access permissions are set directly in Keycloak."
msgstr "Isto explica porque é que o ponto final não tem anotações `@RolesAllowed` - as permissões de acesso aos recursos são definidas diretamente no Keycloak."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:227
#, fuzzy, no-wrap
msgid "Running the Application in Dev mode"
msgstr "Executar a aplicação em modo de desenvolvimento"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:230
#, fuzzy
msgid "To run the application in dev mode, use:"
msgstr "Para executar a aplicação no modo dev, utilize:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:234
#, fuzzy
msgid "xref:security-openid-connect-dev-services.adoc[Dev Services for Keycloak] will launch a Keycloak container and import a `quarkus-realm.json`."
msgstr "link:security-openid-connect-dev-services.html[Os serviços de desenvolvimento para o Keycloak] lançam um contentor Keycloak e importam um `quarkus-realm.json`."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:236
#, fuzzy
msgid "Open a xref:dev-ui.adoc[Dev UI] available at http://localhost:8080/q/dev-v1[/q/dev-v1] and click on a `Provider: Keycloak` link in an `OpenID Connect` `Dev UI` card."
msgstr "Abra uma Dev  link:dev-ui.html[UI] disponível em  link:http://localhost:8080/q/dev-v1[/q/dev-v1] e clique num link `Provider: Keycloak` num cartão `OpenID Connect` `Dev UI` ."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:238
#, fuzzy
msgid "You will be asked to log in into a `Single Page Application` provided by `OpenID Connect Dev UI`:"
msgstr "Ser-lhe-á pedido que inicie sessão em `Single Page Application` fornecido por `OpenID Connect Dev UI`:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:240
#, fuzzy
msgid "Login as `alice` (password: `alice`) who only has a `User Permission` to access the `/api/users/me` resource"
msgstr "Iniciar sessão como `alice` (palavra-passe: `alice`) que só tem um `User Permission` para aceder ao recurso `/api/users/me`"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:241
#, fuzzy
msgid "accessing `/api/admin` will return `403`"
msgstr "aceder a `/api/admin` devolverá `403`"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:242
#: upstream/_guides/security-keycloak-authorization.adoc:245
#, fuzzy
msgid "accessing `/api/users/me` will return `200`"
msgstr "aceder a `/api/users/me` devolverá `200`"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:243
#, fuzzy
msgid "Logout and login as `admin` (password: `admin`) who has both `Admin Permission` to access the `/api/admin` resource and `User Permission` to access the `/api/users/me` resource"
msgstr "Terminar a sessão e iniciar sessão como `admin` (palavra-passe: `admin`) que tem `Admin Permission` para aceder ao recurso `/api/admin` e `User Permission` para aceder ao recurso `/api/users/me`"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:244
#, fuzzy
msgid "accessing `/api/admin` will return `200`"
msgstr "aceder a `/api/admin` devolverá `200`"

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:246
#, fuzzy, no-wrap
msgid "Running the Application in JVM mode"
msgstr "Executar a aplicação no modo JVM"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:249
#, fuzzy
msgid "When you're done playing with the `dev` mode\" you can run it as a standard Java application."
msgstr "Quando terminar de brincar com o modo `dev` \", pode executá-lo como uma aplicação Java normal."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:251
#, fuzzy
msgid "First compile it:"
msgstr "Primeiro, compila-o:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:255
#, fuzzy
msgid "Then run it:"
msgstr "Em seguida, execute-o:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:259
#, no-wrap
msgid "java -jar target/quarkus-app/quarkus-run.jar\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:261
#, fuzzy, no-wrap
msgid "Running the Application in Native Mode"
msgstr "Executar a aplicação em modo nativo"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:264
#, fuzzy
msgid "This same demo can be compiled into native code: no modifications required."
msgstr "Esta mesma demonstração pode ser compilada em código nativo: não são necessárias modificações."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:266
#, fuzzy
msgid "This implies that you no longer need to install a JVM on your production environment, as the runtime technology is included in the produced binary, and optimized to run with minimal resource overhead."
msgstr "Isto implica que já não precisa de instalar uma JVM no seu ambiente de produção, uma vez que a tecnologia de tempo de execução está incluída no binário produzido e optimizada para ser executada com um mínimo de sobrecarga de recursos."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:268
#, fuzzy
msgid "Compilation will take a bit longer, so this step is disabled by default; let's build again by enabling the `native` profile:"
msgstr "A compilação demorará um pouco mais, pelo que este passo está desativado por predefinição; vamos construir novamente activando o perfil `native`:"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:272
#, fuzzy
msgid "After getting a cup of coffee, you'll be able to run this binary directly:"
msgstr "Depois de tomar uma chávena de café, poderá executar este binário diretamente:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:276
#, no-wrap
msgid "./target/security-keycloak-authorization-quickstart-runner\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:278
#, fuzzy, no-wrap
msgid "Testing the Application"
msgstr "Testar a aplicação"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:281
#, fuzzy
msgid "See xref:keycloak-dev-mode[Running the Application in Dev mode] section above about testing your application in a dev mode."
msgstr "Consulte a secção  link:#keycloak-dev-mode[Executar a aplicação em modo] de desenvolvimento acima sobre como testar a sua aplicação em modo de desenvolvimento."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:283
#, fuzzy
msgid "You can test the application launched in JVM or Native modes with `curl`."
msgstr "Pode testar a aplicação lançada nos modos JVM ou Nativo com `curl`."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:285
#, fuzzy
msgid "The application is using bearer token authorization and the first thing to do is obtain an access token from the Keycloak Server in order to access the application resources:"
msgstr "A aplicação está a utilizar a autorização de token de portador e a primeira coisa a fazer é obter um token de acesso do servidor Keycloak para aceder aos recursos da aplicação:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:294
#, no-wrap
msgid ""
"export access_token=$(\\\n"
"    curl --insecure -X POST https://localhost:8543/realms/quarkus/protocol/openid-connect/token \\\n"
"    --user backend-service:secret \\\n"
"    -H 'content-type: application/x-www-form-urlencoded' \\\n"
"    -d 'username=alice&password=alice&grant_type=password' | jq --raw-output '.access_token' \\\n"
" )\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:297
#, fuzzy
msgid "The example above obtains an access token for user `alice`."
msgstr "O exemplo acima obtém um token de acesso para o utilizador `alice`."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:301
#, fuzzy
msgid "Any user is allowed to access the `http://localhost:8080/api/users/me` endpoint which basically returns a JSON payload with details about the user."
msgstr "Qualquer utilizador pode aceder ao `&lt;a href=\"http://localhost:8080/api/users/me\" class=\"bare\"&gt;http://localhost:8080/api/users/me&lt;/a&gt;` que basicamente devolve uma carga útil JSON com detalhes sobre o utilizador."

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:307
#, no-wrap
msgid ""
"curl -v -X GET \\\n"
"  http://localhost:8080/api/users/me \\\n"
"  -H \"Authorization: Bearer \"$access_token\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:311
#, fuzzy
msgid "The `http://localhost:8080/api/admin` endpoint can only be accessed by users with the `admin` role.  If you try to access this endpoint with the previously issued access token, you should get a `403` response from the server."
msgstr "O ponto final `&lt;a href=\"http://localhost:8080/api/admin\" class=\"bare\"&gt;http://localhost:8080/api/admin&lt;/a&gt;` só pode ser acedido por utilizadores com a função `admin`. Se tentar aceder a este ponto final com o token de acesso emitido anteriormente, deverá obter uma resposta `403` do servidor."

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:317
#, no-wrap
msgid ""
" curl -v -X GET \\\n"
"   http://localhost:8080/api/admin \\\n"
"   -H \"Authorization: Bearer \"$access_token\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:320
#, fuzzy
msgid "In order to access the admin endpoint you should obtain a token for the `admin` user:"
msgstr "Para aceder ao ponto final de administração, deve obter um token para o utilizador `admin`:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:329
#, no-wrap
msgid ""
"export access_token=$(\\\n"
"    curl --insecure -X POST https://localhost:8543/realms/quarkus/protocol/openid-connect/token \\\n"
"    --user backend-service:secret \\\n"
"    -H 'content-type: application/x-www-form-urlencoded' \\\n"
"    -d 'username=admin&password=admin&grant_type=password' | jq --raw-output '.access_token' \\\n"
" )\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:331
#, fuzzy, no-wrap
msgid "Injecting the Authorization Client"
msgstr "Injectando o cliente de autorização"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:336
#, fuzzy
msgid "In some cases, you may want to use the https://www.keycloak.org/docs/latest/authorization_services/#_service_client_api[Keycloak Authorization Client Java API] to perform specific operations like managing resources and obtaining permissions directly from Keycloak. For that, you can inject a `AuthzClient` instance into your beans as follows:"
msgstr "Em alguns casos, pode querer utilizar a  link:https://www.keycloak.org/docs/latest/authorization_services/#_service_client_api[API Java do Cliente de Autorização do Keycloak] para executar operações específicas, como gerir recursos e obter permissões diretamente do Keycloak. Para isso, pode injetar uma instância `AuthzClient` nos seus beans da seguinte forma:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:343
#, no-wrap
msgid ""
"public class ProtectedResource {\n"
"    @Inject\n"
"    AuthzClient authzClient;\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:346
#, fuzzy
msgid "Note: If you want to use the `AuthzClient` directly make sure to set `quarkus.keycloak.policy-enforcer.enable=true` otherwise there is no Bean available for injection."
msgstr "Nota: Se pretender utilizar o `AuthzClient` diretamente, certifique-se de que define `quarkus.keycloak.policy-enforcer.enable=true`, caso contrário não haverá Bean disponível para injeção."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:347
#, fuzzy, no-wrap
msgid "Mapping Protected Resources"
msgstr "Cartografia dos recursos protegidos"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:350
#, fuzzy
msgid "By default, the extension is going to fetch resources on-demand from Keycloak where their `URI` are used to map the resources in your application that should be protected."
msgstr "Por predefinição, a extensão vai buscar recursos a pedido ao Keycloak, onde os seus `URI` são utilizados para mapear os recursos da sua aplicação que devem ser protegidos."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:352
#, fuzzy
msgid "If you want to disable this behavior and fetch resources during startup, you can use the following configuration:"
msgstr "Se pretender desativar este comportamento e obter recursos durante o arranque, pode utilizar a seguinte configuração:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:356
#, no-wrap
msgid "quarkus.keycloak.policy-enforcer.lazy-load-paths=false\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:359
#, fuzzy
msgid "Note that, depending on how many resources you have in Keycloak the time taken to fetch them may impact your application startup time."
msgstr "Note-se que, dependendo do número de recursos existentes no Keycloak, o tempo necessário para os obter pode afetar o tempo de arranque da aplicação."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:360
#, fuzzy, no-wrap
msgid "More About Configuring Protected Resources"
msgstr "Mais informações sobre a configuração de recursos protegidos"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:363
#, fuzzy
msgid "In the default configuration, Keycloak is responsible for managing the roles and deciding who can access which routes."
msgstr "Na configuração predefinida, o Keycloak é responsável por gerir as funções e decidir quem pode aceder a que rotas."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:365
#, fuzzy
msgid "To configure the protected routes using the `@RolesAllowed` annotation or the `application.properties` file, check the xref:security-oidc-bearer-token-authentication.adoc[Using OpenID Connect Adapter to Protect Jakarta REST Applications] and xref:security-authorize-web-endpoints-reference.adoc[Security Authorization] guides. For more details, check the xref:security-overview.adoc[Security guide]."
msgstr "Para configurar as rotas protegidas utilizando a anotação `@RolesAllowed` ou o ficheiro `application.properties`, consulte os guias  link:security-oidc-bearer-token-authentication.html[Utilizar o adaptador OpenID Connect para proteger aplicações Jakarta REST] e  link:security-authorize-web-endpoints-reference.html[Autorização de segurança]. Para obter mais detalhes, consulte o  link:security-overview.html[guia Segurança]."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:366
#, fuzzy, no-wrap
msgid "Access to Public Resources"
msgstr "Acesso aos recursos públicos"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:369
#, fuzzy
msgid "If you'd like to access a public resource without `quarkus-keycloak-authorization` trying to apply its policies to it then you need to create a `permit` HTTP Policy configuration in `application.properties` as documented in the xref:security-authorize-web-endpoints-reference.adoc[Security Authorization] guide."
msgstr "Se pretender aceder a um recurso público sem que o `quarkus-keycloak-authorization` tente aplicar-lhe as suas políticas, terá de criar uma configuração de Política HTTP `permit` em `application.properties`, conforme documentado no guia  link:security-authorize-web-endpoints-reference.html[Autorização de segurança]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:371
#, fuzzy
msgid "Disabling a policy check using a Keycloak Authorization Policy such as:"
msgstr "Desativar uma verificação de política utilizando uma Política de Autorização Keycloak, tal como:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:376
#, no-wrap
msgid ""
"quarkus.keycloak.policy-enforcer.paths.1.path=/api/public\n"
"quarkus.keycloak.policy-enforcer.paths.1.enforcement-mode=DISABLED\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:379
#, fuzzy
msgid "is no longer required."
msgstr "já não é necessário."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:381
#, fuzzy
msgid "If you'd like to block access to the public resource to anonymous users then you can create an enforcing Keycloak Authorization Policy:"
msgstr "Se pretender bloquear o acesso ao recurso público a utilizadores anónimos, pode criar uma Política de autorização do Keycloak:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:386
#, no-wrap
msgid ""
"quarkus.keycloak.policy-enforcer.paths.1.path=/api/public-enforcing\n"
"quarkus.keycloak.policy-enforcer.paths.1.enforcement-mode=ENFORCING\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:389
#, fuzzy
msgid "Note only the default tenant configuration applies when controlling anonymous access to the public resource is required."
msgstr "Nota: apenas a configuração predefinida do locatário se aplica quando é necessário controlar o acesso anónimo ao recurso público."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:390
#, fuzzy, no-wrap
msgid "Checking Permission Scopes Programmatically"
msgstr "Verificando os escopos de permissão programaticamente"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:394
#, fuzzy
msgid "In addition to resource permissions, you may want to specify method scopes. The scope usually represents an action that can be performed on a resource. You can create an enforcing Keycloak Authorization Policy with method scope like this:"
msgstr "Para além das permissões de recursos, pode querer especificar os âmbitos dos métodos. O âmbito representa normalmente uma ação que pode ser executada num recurso. Pode criar uma Política de Autorização Keycloak com um âmbito de método como este:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:402
#, no-wrap
msgid ""
"# path policy with enforced scope 'read' for method 'GET'\n"
"quarkus.keycloak.policy-enforcer.paths.1.name=Scope Permission Resource\n"
"quarkus.keycloak.policy-enforcer.paths.1.path=/api/protected/standard-way\n"
"quarkus.keycloak.policy-enforcer.paths.1.methods.get.method=GET\n"
"quarkus.keycloak.policy-enforcer.paths.1.methods.get.scopes=read <1>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:408
#, no-wrap
msgid ""
"# path policies without scope\n"
"quarkus.keycloak.policy-enforcer.paths.2.name=Scope Permission Resource\n"
"quarkus.keycloak.policy-enforcer.paths.2.path=/api/protected/programmatic-way\n"
"quarkus.keycloak.policy-enforcer.paths.3.name=Scope Permission Resource\n"
"quarkus.keycloak.policy-enforcer.paths.3.path=/api/protected/annotation-way\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:410
#, fuzzy
msgid "User must have resource permission 'Scope Permission Resource' and scope 'read'"
msgstr "O utilizador tem de ter a permissão de recurso 'Scope Permission Resource' e o âmbito 'read'"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:416
#, fuzzy
msgid "Request path `/api/protected/standard-way` is now secured by the Keycloak Policy Enforcer and does not require any additions (such as `@RolesAllowed` annotation). In some cases, you may want to perform the same check programmatically.  You are allowed to do that by injecting a `SecurityIdentity` instance in your beans, as demonstrated in the example below.  Alternatively, if you annotate resource method with the `@PermissionsAllowed` annotation, you can achieve the same effect.  The following example shows three resource method that all requires same 'read' scope:"
msgstr "O caminho do pedido `/api/protected/standard-way` está agora protegido pelo Keycloak Policy Enforcer e não requer quaisquer adições (como a anotação `@RolesAllowed` ). Em alguns casos, poderá querer efetuar a mesma verificação de forma programática. Pode fazê-lo injectando uma instância `SecurityIdentity` nos seus feijões, como demonstrado no exemplo abaixo. Em alternativa, se anotar o método de recurso com a anotação `@PermissionsAllowed`, pode obter o mesmo efeito. O exemplo a seguir mostra três métodos de recurso que requerem o mesmo escopo de 'leitura':"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:421
#, no-wrap
msgid ""
"import java.security.BasicPermission;\n"
"import java.util.List;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:426
#, no-wrap
msgid ""
"import jakarta.inject.Inject;\n"
"import jakarta.ws.rs.ForbiddenException;\n"
"import jakarta.ws.rs.GET;\n"
"import jakarta.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:428
#, no-wrap
msgid "import org.keycloak.representations.idm.authorization.Permission;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:432
#, no-wrap
msgid ""
"import io.quarkus.security.PermissionsAllowed;\n"
"import io.quarkus.security.identity.SecurityIdentity;\n"
"import io.smallrye.mutiny.Uni;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:435
#, no-wrap
msgid ""
"@Path(\"/api/protected\")\n"
"public class ProtectedResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:444
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/standard-way\")\n"
"    public Uni<List<Permission>> standardWay() { <1>\n"
"        return Uni.createFrom().item(identity.<List<Permission>> getAttribute(\"permissions\"));\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:462
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/programmatic-way\")\n"
"    public Uni<List<Permission>> programmaticWay() {\n"
"        var requiredPermission = new BasicPermission(\"Scope Permission Resource\") {\n"
"            @Override\n"
"            public String getActions() {\n"
"                return \"read\";\n"
"            }\n"
"        };\n"
"        return identity.checkPermission(requiredPermission).onItem() <2>\n"
"                .transform(granted -> {\n"
"                    if (granted) {\n"
"                        return identity.getAttribute(\"permissions\");\n"
"                    }\n"
"                    throw new ForbiddenException();\n"
"                });\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:470
#, no-wrap
msgid ""
"    @PermissionsAllowed(\"Scope Permission Resource:read\") <3>\n"
"    @GET\n"
"    @Path(\"/annotation-way\")\n"
"    public Uni<List<Permission>> annotationWay() {\n"
"        return Uni.createFrom().item(identity.<List<Permission>> getAttribute(\"permissions\"));\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:472
#, fuzzy
msgid "Request sub-path `/standard-way` requires both resource permission and scope `read` according to the configuration properties we set in the `application.properties` before."
msgstr "O subcaminho de pedido `/standard-way` requer permissão de recurso e âmbito `read` de acordo com as propriedades de configuração que definimos anteriormente em `application.properties`."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:473
#, fuzzy
msgid "Request sub-path `/programmatic-way` only requires permission `Scope Permission Resource`, but we can enforce scope with `SecurityIdentity#checkPermission`."
msgstr "O subcaminho de pedido `/programmatic-way` apenas requer a permissão `Scope Permission Resource`, mas podemos impor o âmbito com `SecurityIdentity#checkPermission`."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:475
#, fuzzy
msgid "The `@PermissionsAllowed` annotation only grants access to the requests with permission `Scope Permission Resource` and scope `read`.  For more information, see the section xref:security-authorize-web-endpoints-reference.adoc#standard-security-annotations[Authorization using annotations] of the Security Authorization guide."
msgstr "A anotação `@PermissionsAllowed` só concede acesso aos pedidos com permissão `Scope Permission Resource` e âmbito `read`. Para obter mais informações, consulte a secção  link:security-authorize-web-endpoints-reference.html#standard-security-annotations[Autorização utilizando anotações] do guia Autorização de segurança."

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:476
#, fuzzy, no-wrap
msgid "Multi-Tenancy"
msgstr "Multi-Tenancy"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:479
#, fuzzy
msgid "It is possible to configure multiple policy enforcer configurations, one per each tenant, similarly to how it can be done for xref:security-openid-connect-multitenancy.adoc[Multi-Tenant OpenID Connect Service Applications]."
msgstr "É possível configurar várias configurações do executor de políticas, uma por cada inquilino, à semelhança do que pode ser feito para as  link:security-openid-connect-multitenancy.html[aplicações de serviço OpenID Connect para vários inquilinos]."

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:481
#, fuzzy
msgid "For example:"
msgstr "Por exemplo:"

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:485
#, no-wrap
msgid "quarkus.keycloak.policy-enforcer.enable=true\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:490
#, no-wrap
msgid ""
"# Default Tenant\n"
"quarkus.oidc.auth-server-url=${keycloak.url}/realms/quarkus\n"
"quarkus.oidc.client-id=quarkus-app\n"
"quarkus.oidc.credentials.secret=secret\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:495
#, no-wrap
msgid ""
"quarkus.keycloak.policy-enforcer.enforcement-mode=PERMISSIVE\n"
"quarkus.keycloak.policy-enforcer.paths.1.name=Permission Resource\n"
"quarkus.keycloak.policy-enforcer.paths.1.path=/api/permission\n"
"quarkus.keycloak.policy-enforcer.paths.1.claim-information-point.claims.static-claim=static-claim\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:497
#, no-wrap
msgid "# Service Tenant\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:501
#, no-wrap
msgid ""
"quarkus.oidc.service-tenant.auth-server-url=${keycloak.url}/realms/quarkus\n"
"quarkus.oidc.service-tenant.client-id=quarkus-app\n"
"quarkus.oidc.service-tenant.credentials.secret=secret\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:506
#, no-wrap
msgid ""
"quarkus.keycloak.service-tenant.policy-enforcer.enforcement-mode=PERMISSIVE\n"
"quarkus.keycloak.service-tenant.policy-enforcer.paths.1.name=Permission Resource Service\n"
"quarkus.keycloak.service-tenant.policy-enforcer.paths.1.path=/api/permission\n"
"quarkus.keycloak.service-tenant.policy-enforcer.paths.1.claim-information-point.claims.static-claim=static-claim\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:509
#, no-wrap
msgid "# WebApp Tenant\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:515
#, no-wrap
msgid ""
"quarkus.oidc.webapp-tenant.auth-server-url=${keycloak.url}/realms/quarkus\n"
"quarkus.oidc.webapp-tenant.client-id=quarkus-app\n"
"quarkus.oidc.webapp-tenant.credentials.secret=secret\n"
"quarkus.oidc.webapp-tenant.application-type=web-app\n"
"quarkus.oidc.webapp-tenant.roles.source=accesstoken\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-keycloak-authorization.adoc:520
#, no-wrap
msgid ""
"quarkus.keycloak.webapp-tenant.policy-enforcer.enforcement-mode=PERMISSIVE\n"
"quarkus.keycloak.webapp-tenant.policy-enforcer.paths.1.name=Permission Resource WebApp\n"
"quarkus.keycloak.webapp-tenant.policy-enforcer.paths.1.path=/api/permission\n"
"quarkus.keycloak.webapp-tenant.policy-enforcer.paths.1.claim-information-point.claims.static-claim=static-claim\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:522
#, fuzzy, no-wrap
msgid "Configuration Reference"
msgstr "Referência de configuração"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:525
#, fuzzy
msgid "The configuration is based on the official https://www.keycloak.org/docs/latest/authorization_services/index.html#_enforcer_filter[Keycloak Policy Enforcer Configuration]. If you are looking for more details about the different configuration options, please take a look at this documentation,"
msgstr "A configuração é baseada na  link:https://www.keycloak.org/docs/latest/authorization_services/index.html#_enforcer_filter[configuração] oficial do  link:https://www.keycloak.org/docs/latest/authorization_services/index.html#_enforcer_filter[Keycloak Policy Enforcer]. Se estiver à procura de mais detalhes sobre as diferentes opções de configuração, consulte esta documentação,"

#. type: Title ==
#: upstream/_guides/security-keycloak-authorization.adoc:528
#, fuzzy, no-wrap
msgid "References"
msgstr "Referências"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:531
#, fuzzy
msgid "https://www.keycloak.org/documentation.html[Keycloak Documentation]"
msgstr "link:https://www.keycloak.org/documentation.html[Documentação do Keycloak]"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:532
#, fuzzy
msgid "https://www.keycloak.org/docs/latest/authorization_services/index.html[Keycloak Authorization Services Documentation]"
msgstr "link:https://www.keycloak.org/docs/latest/authorization_services/index.html[Documentação dos serviços de autorização do Keycloak]"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:533
#, fuzzy
msgid "https://openid.net/connect/[OpenID Connect]"
msgstr "link:https://openid.net/connect/[Ligação OpenID]"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:534
#, fuzzy
msgid "https://tools.ietf.org/html/rfc7519[JSON Web Token]"
msgstr "link:https://tools.ietf.org/html/rfc7519[Token Web JSON]"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:535
#, fuzzy
msgid "xref:security-overview.adoc[Quarkus Security overview]"
msgstr "link:security-overview.html[Visão geral do Quarkus Security]"

#. type: Plain text
#: upstream/_guides/security-keycloak-authorization.adoc:535
#, fuzzy
msgid "xref:security-keycloak-admin-client.adoc[Quarkus Keycloak Admin Client]"
msgstr "link:security-keycloak-admin-client.html[Cliente de administração do Keycloak Quarkus]"

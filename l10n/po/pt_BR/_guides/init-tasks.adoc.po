# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-10-29 08:09+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/init-tasks.adoc:6
#, fuzzy, no-wrap
msgid "Initialization tasks"
msgstr "Tarefas de inicialização"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:16
#, fuzzy
msgid "There are often initialization tasks performed by Quarkus extensions that are meant to be run once.  For example, Flyway or Liquibase initialization falls into that category. But what happens when the scaling needs of an application requires more instances of the application to run? Or what happens when the application restarts ?"
msgstr "Muitas vezes, há tarefas de inicialização executadas pelas extensões do Quarkus que devem ser executadas uma única vez. Por exemplo, a inicialização do Flyway ou do Liquibase se enquadra nessa categoria. Mas o que acontece quando as necessidades de dimensionamento de um aplicativo exigem a execução de mais instâncias do aplicativo? Ou o que acontece quando o aplicativo é reiniciado?"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:21
#, fuzzy
msgid "A common environment where both of these cases are pretty common is Kubernetes. To address these challenges, Quarkus allows externalization of such tasks as Kubernetes https://kubernetes.io/docs/concepts/workloads/controllers/job/[Jobs] and uses https://kubernetes.io/docs/concepts/workloads/pods/init-containers/[init containers] to ensure that an application instance only starts once the initialization jobs have finished. With this approach even if an application has multiple replicas, the initialization logic will only run once."
msgstr "Um ambiente comum em que esses dois casos são bastante comuns é o Kubernetes. Para enfrentar esses desafios, o Quarkus permite a externalização de tais tarefas como  link:https://kubernetes.io/docs/concepts/workloads/controllers/job/[trabalhos] do Kubernetes e usa  link:https://kubernetes.io/docs/concepts/workloads/pods/init-containers/[contêineres de inicialização] para garantir que uma instância de aplicativo seja iniciada somente quando os trabalhos de inicialização forem concluídos. Com essa abordagem, mesmo que um aplicativo tenha várias réplicas, a lógica de inicialização será executada apenas uma vez."

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:23
#, fuzzy
msgid "This approach is reflected in the manifests generated by xref:kubernetes.adoc[Kubernetes extension]."
msgstr "Essa abordagem é refletida nos manifestos gerados pela  link:kubernetes.html[extensão do Kubernetes]."

#. type: Title ==
#: upstream/_guides/init-tasks.adoc:24
#, fuzzy, no-wrap
msgid "Disabling the feature"
msgstr "Desativar o recurso"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:28
#, fuzzy
msgid "The feature can be explictily disabled per task (enabled by default).  The default behavior can change by setting the following property to `false`:"
msgstr "O recurso pode ser explicitamente desativado por tarefa (ativado por padrão). O comportamento padrão pode ser alterado definindo-se a seguinte propriedade como `false`:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:32
#, no-wrap
msgid "quarkus.kubernetes.init-task-defaults.enabled=false\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:35
#, fuzzy
msgid "or on Openshift:"
msgstr "ou no Openshift:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:39
#, no-wrap
msgid "quarkus.openshift.init-task-defaults.enabled=false\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:43
#, fuzzy, no-wrap
msgid ""
"**Note**: All the configuration options in this guide are available on both OpenShift and Kubernetes. The rest of the guide will use Kubernetes(`quarkus.kubernetes` prefix)\n"
"configuration prefix, but all the configuration options are also available for OpenShift(`quarkus.openshift` prefix) too.\n"
msgstr "*Observação*: todas as opções de configuração neste guia estão disponíveis tanto no OpenShift quanto no Kubernetes. O restante do guia usará o prefixo de configuração do Kubernetes (prefixo `quarkus.kubernetes` ), mas todas as opções de configuração também estão disponíveis para o OpenShift (prefixo `quarkus.openshift` )."

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:45
#, fuzzy
msgid "In the case where we need to disable a particular task, we can use the following property:"
msgstr "No caso de precisarmos desativar uma tarefa específica, podemos usar a seguinte propriedade:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:49
#, no-wrap
msgid "quarkus.kubernetes.init-tasks.\"<task name>\".enabled=false\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:53
#, fuzzy
msgid "The task name is the name of the extension that performs the initialization.  Examples:"
msgstr "O nome da tarefa é o nome da extensão que executa a inicialização. Exemplos:"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:55
#, fuzzy
msgid "For Flyway:"
msgstr "Para a Flyway:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:59
#, no-wrap
msgid "quarkus.kubernetes.init-tasks.flyway.enabled=false\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:62
#, fuzzy
msgid "For Liquibase:"
msgstr "Para a Liquibase:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:66
#, no-wrap
msgid "quarkus.kubernets.init-tasks.liquibase.enabled=false\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:69
#, fuzzy
msgid "For Liquibase Mongodb:"
msgstr "Para o Liquibase Mongodb:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:73
#, no-wrap
msgid "quarkus.kubernetes.init-tasks.liquibase-mongodb.enabled=false\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/init-tasks.adoc:76
#, fuzzy, no-wrap
msgid "Controlling the generated job"
msgstr "Controle do trabalho gerado"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:80
#, fuzzy
msgid "The job container is pretty similar to the application container, and the only thing that changes is the configured environment variables.  More specifically, the following environment variable is added, to tell the job to exit right after initialization."
msgstr "O contêiner do trabalho é bastante semelhante ao contêiner do aplicativo, e a única coisa que muda são as variáveis de ambiente configuradas. Mais especificamente, a seguinte variável de ambiente é adicionada para dizer ao trabalho para sair logo após a inicialização."

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:84
#, no-wrap
msgid "QUARKUS_INIT_AND_EXIT=true\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:88
#, fuzzy
msgid "The image, image pull policy, service account, volumes, mounts and additional environment variables are inherited/copied from the deployment resource.  Any customization to the original deployment resource (via configuration or extension) will also be reflected in the job."
msgstr "A imagem, a política de pull de imagem, a conta de serviço, os volumes, as montagens e as variáveis de ambiente adicionais são herdadas/copiadas do recurso de implementação. Qualquer personalização do recurso de implementação original (por meio de configuração ou extensão) também será refletida no trabalho."

#. type: Title ==
#: upstream/_guides/init-tasks.adoc:89
#, fuzzy, no-wrap
msgid "Controlling the generated init container"
msgstr "Controle do contêiner de inicialização gerado"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:94
#, fuzzy
msgid "The name of the generated init container is `wait-for-${task name}` by default.  Given that the init container is part of the same pod as the actual application it will get the same service account (and therefore permissions) and volumes as the application.  Further customization to the container can be done using using the configuration options for init containers (see `quarkus.kubernetes.init-containers` or `quarkus.openshift.init-containers`)."
msgstr "O nome do contêiner de inicialização gerado é `wait-for-${task name}` por padrão. Como o contêiner de inicialização faz parte do mesmo pod que o aplicativo real, ele obterá a mesma conta de serviço (e, portanto, as mesmas permissões) e os mesmos volumes que o aplicativo. É possível personalizar ainda mais o contêiner usando as opções de configuração para contêineres de inicialização (consulte `quarkus.kubernetes.init-containers` ou `quarkus.openshift.init-containers`)."

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:96
#, fuzzy
msgid "Examples:"
msgstr "Exemplos:"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:98
#, fuzzy
msgid "To set the imagePullPolicy to `IfNotPresent` on the init container that waits for the `flyway` job:"
msgstr "Para definir a imagePullPolicy como `IfNotPresent` no contêiner de inicialização que aguarda o trabalho `flyway`:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:102
#, no-wrap
msgid "quarkus.kubernetes.init-containers.wait-for-flyway.image-pull-policy=IfNotPresent\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:105
#, fuzzy
msgid "To set custom command (say `custom-wait-for`) on the init container that waits for the `flyway` job:"
msgstr "Para definir um comando personalizado (por exemplo, `custom-wait-for`) no contêiner de inicialização que aguarda o trabalho `flyway`:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:109
#, no-wrap
msgid "quarkus.kubernetes.init-containers.wait-for-flyway.command=custom-wait-for\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/init-tasks.adoc:112
#, fuzzy, no-wrap
msgid "Orchestration of the initialization tasks"
msgstr "Orquestração das tarefas de inicialização"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:116
#, fuzzy
msgid "The deployment resource should not start until the job has been completed. The typical pattern that is used among Kubernetes users is the use of init containers to achieve this. An init container that `wait for` the job to complete is enough to enforce that requirement."
msgstr "O recurso de implantação não deve ser iniciado até que o trabalho tenha sido concluído. O padrão típico usado entre os usuários do Kubernetes é o uso de contêineres de inicialização para conseguir isso. Um contêiner de inicialização que `wait for` o trabalho a ser concluído é suficiente para impor esse requisito."

#. type: Title ===
#: upstream/_guides/init-tasks.adoc:117
#, fuzzy, no-wrap
msgid "Using a custom wait-for container image"
msgstr "Uso de uma imagem de contêiner wait-for personalizada"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:120
#, fuzzy
msgid "To change the `wait-for` image which by default is `groundnuty/k8s-wait-for:no-root-v1.7` you can use:"
msgstr "Para alterar a imagem `wait-for` que, por padrão, é `groundnuty/k8s-wait-for:no-root-v1.7`, você pode usar:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:124
#, no-wrap
msgid "quarkus.kubernetes.init-task-defaults.wait-for-container.image=my/wait-for-image:1.0\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:127
#, fuzzy
msgid "To change the `wait-for` image for a particular init container (e.g. `wait-for-flway`) you can use:"
msgstr "Para alterar a imagem `wait-for` de um determinado contêiner de inicialização (por exemplo, `wait-for-flway`), você pode usar:"

#. type: delimited block -
#: upstream/_guides/init-tasks.adoc:131
#, no-wrap
msgid "quarkus.kubernetes.init-containers.wait-for-flyway=my/wait-for-image:1.0\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/init-tasks.adoc:133
#, fuzzy, no-wrap
msgid "Configuring permissions"
msgstr "Configuração de permissões"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:137
#, fuzzy
msgid "For an init container to be able to perform the `wait for job` it needs to be able to perform `get` operations on the job resource.  This is done automatically and the generated manifests include the required `Role` and `RoleBinding` resources."
msgstr "Para que um contêiner de inicialização possa executar o `wait for job`, ele precisa ser capaz de realizar operações `get` no recurso de trabalho. Isso é feito automaticamente e os manifestos gerados incluem os recursos `Role` e `RoleBinding` necessários."

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:139
#, fuzzy
msgid "If for any reason additional permissions are required either by the init container or the job, they can be configured with through the xref:deploying-to-kuberentes.adoc#generating-rbac-resources[Kubernetes RBAC configuration]."
msgstr "Se, por algum motivo, forem necessárias permissões adicionais para o contêiner de inicialização ou para o trabalho, elas poderão ser configuradas por meio da  link:deploying-to-kuberentes.html#generating-rbac-resources[configuração do RBAC do Kubernetes]."

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:141
#, fuzzy, no-wrap
msgid "**Note**: The application, the init container and the job use the same `ServiceAccount` and therefore, share the same permissions.\n"
msgstr "*Observação*: O aplicativo, o contêiner de inicialização e o trabalho usam o mesmo `ServiceAccount` e, portanto, compartilham as mesmas permissões."

#. type: Title ==
#: upstream/_guides/init-tasks.adoc:142
#, fuzzy, no-wrap
msgid "Extension providing Initialization Tasks"
msgstr "Extensão que fornece tarefas de inicialização"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:145
#, fuzzy
msgid "Currently, this feature is used by the following extensions:"
msgstr "Atualmente, esse recurso é usado pelas seguintes extensões:"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:146
#, fuzzy
msgid "xref:flyway.adoc[Flyway]"
msgstr "link:flyway.html[Flyway]"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:147
#, fuzzy
msgid "xref:liquibase.adoc[Liquibase]"
msgstr "link:liquibase.html[Liquibase]"

#. type: Plain text
#: upstream/_guides/init-tasks.adoc:147
#, fuzzy
msgid "xref:liquibase-mongodb.adoc[Liquibase MongoDB]"
msgstr "link:liquibase-mongodb.html[Liquibase MongoDB]"

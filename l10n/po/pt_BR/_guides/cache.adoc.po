# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-10-29 08:09+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/cache.adoc:6
#, fuzzy, no-wrap
msgid "Application Data Caching"
msgstr "Armazenamento em cache de dados da aplicação"

#. type: Plain text
#: upstream/_guides/cache.adoc:15
#, fuzzy
msgid "In this guide, you will learn how to enable application data caching in any CDI managed bean of your Quarkus application."
msgstr "Neste guia, aprenderá a ativar o armazenamento de dados da aplicação em cache em qualquer bean gerido pelo CDI da sua aplicação Quarkus."

#. type: Title ==
#: upstream/_guides/cache.adoc:18
#, fuzzy, no-wrap
msgid "Prerequisites"
msgstr "Pré-requisitos"

#. type: Title ==
#: upstream/_guides/cache.adoc:22
#, fuzzy, no-wrap
msgid "Scenario"
msgstr "Cenário"

#. type: Plain text
#: upstream/_guides/cache.adoc:27
#, fuzzy
msgid "Let's imagine you want to expose in your Quarkus application a REST API that allows users to retrieve the weather forecast for the next three days.  The problem is that you have to rely on an external meteorological service which only accepts requests for one day at a time and takes forever to answer.  Since the weather forecast is updated once every twelve hours, caching the service responses would definitely improve your API performances."
msgstr "Imaginemos que quer expor na sua aplicação Quarkus uma API REST que permite aos utilizadores obterem a previsão meteorológica para os próximos três dias. O problema é que tem de depender de um serviço meteorológico externo que só aceita pedidos para um dia de cada vez e demora uma eternidade a responder. Uma vez que a previsão meteorológica é actualizada uma vez a cada doze horas, o armazenamento em cache das respostas do serviço melhoraria definitivamente o desempenho da sua API."

#. type: Plain text
#: upstream/_guides/cache.adoc:29
#, fuzzy
msgid "We'll do that using a single Quarkus annotation."
msgstr "Fá-lo-emos utilizando uma única anotação Quarkus."

#. type: delimited block =
#: upstream/_guides/cache.adoc:35
#, fuzzy
msgid "In this guide, we use the default Quarkus Cache backend (Caffeine).  You can use Redis instead.  Refer to the xref:cache-redis-reference.adoc[Redis cache backend reference] to configure the Redis backend."
msgstr "Neste guia, usamos o backend padrão do Quarkus Cache (Caffeine). Você pode usar o Redis. Consulte a  link:cache-redis-reference.html[referência do backend de cache do Redis] para configurar o backend do Redis."

#. type: Title ==
#: upstream/_guides/cache.adoc:37
#, fuzzy, no-wrap
msgid "Solution"
msgstr "Solução"

#. type: Plain text
#: upstream/_guides/cache.adoc:41
#, fuzzy
msgid "We recommend that you follow the instructions in the next sections and create the application step by step.  However, you can go right to the completed example."
msgstr "Recomendamos que siga as instruções nas secções seguintes e crie a aplicação passo a passo. No entanto, pode ir diretamente para o exemplo completo."

#. type: Plain text
#: upstream/_guides/cache.adoc:43
#, fuzzy
msgid "Clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]."
msgstr "Clonar o repositório Git: `git clone {quickstarts-clone-url}`, ou descarregar um {quickstarts-archive-url}[arquivo]."

#. type: Plain text
#: upstream/_guides/cache.adoc:45
#, fuzzy
msgid "The solution is located in the `cache-quickstart` link:{quickstarts-tree-url}/cache-quickstart[directory]."
msgstr "A solução está localizada no  link:{quickstarts-tree-url}/cache-quickstart[diretório] `cache-quickstart`."

#. type: Title ==
#: upstream/_guides/cache.adoc:46
#, fuzzy, no-wrap
msgid "Creating the Maven project"
msgstr "Criar o projeto Maven"

#. type: Plain text
#: upstream/_guides/cache.adoc:49
#, fuzzy
msgid "First, we need to create a new Quarkus project with the following command:"
msgstr "Em primeiro lugar, temos de criar um novo projeto Quarkus com o seguinte comando:"

#. type: Plain text
#: upstream/_guides/cache.adoc:55
#, fuzzy
msgid "This command generates the project and imports the `cache` and `resteasy-reactive-jackson` extensions."
msgstr "Este comando gera o projeto e importa as extensões `cache` e `resteasy-reactive-jackson`."

#. type: Plain text
#: upstream/_guides/cache.adoc:58
#, fuzzy
msgid "If you already have your Quarkus project configured, you can add the `cache` extension to your project by running the following command in your project base directory:"
msgstr "Se já tiver o seu projeto Quarkus configurado, pode adicionar a extensão `cache` ao seu projeto executando o seguinte comando no diretório de base do seu projeto:"

#. type: Plain text
#: upstream/_guides/cache.adoc:63
#, fuzzy
msgid "This will add the following to your build file:"
msgstr "Isto irá adicionar o seguinte ao seu ficheiro de compilação:"

#. type: Block title
#: upstream/_guides/cache.adoc:65
#, fuzzy, no-wrap
msgid "pom.xml"
msgstr "pom.xml"

#. type: delimited block -
#: upstream/_guides/cache.adoc:71
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-cache</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Block title
#: upstream/_guides/cache.adoc:74
#, fuzzy, no-wrap
msgid "build.gradle"
msgstr "build.gradle"

#. type: delimited block -
#: upstream/_guides/cache.adoc:77
#, no-wrap
msgid "implementation(\"io.quarkus:quarkus-cache\")\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/cache.adoc:79
#, fuzzy, no-wrap
msgid "Creating the REST API"
msgstr "Criando a API REST"

#. type: Plain text
#: upstream/_guides/cache.adoc:83
#, fuzzy
msgid "Let's start by creating a service that will simulate an extremely slow call to the external meteorological service.  Create `src/main/java/org/acme/cache/WeatherForecastService.java` with the following content:"
msgstr "Comecemos por criar um serviço que simulará uma chamada extremamente lenta para o serviço meteorológico externo. Crie `src/main/java/org/acme/cache/WeatherForecastService.java` com o seguinte conteúdo:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:87 upstream/_guides/cache.adoc:128
#: upstream/_guides/cache.adoc:158 upstream/_guides/cache.adoc:220
#: upstream/_guides/cache.adoc:355 upstream/_guides/cache.adoc:405
#: upstream/_guides/cache.adoc:435 upstream/_guides/cache.adoc:458
#: upstream/_guides/cache.adoc:507 upstream/_guides/cache.adoc:550
#: upstream/_guides/cache.adoc:592 upstream/_guides/cache.adoc:621
#: upstream/_guides/cache.adoc:653 upstream/_guides/cache.adoc:682
#: upstream/_guides/cache.adoc:821 upstream/_guides/cache.adoc:852
#: upstream/_guides/cache.adoc:884 upstream/_guides/cache.adoc:915
#: upstream/_guides/cache.adoc:945
#, no-wrap
msgid "package org.acme.cache;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:89 upstream/_guides/cache.adoc:222
#, no-wrap
msgid "import java.time.LocalDate;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:91 upstream/_guides/cache.adoc:224
#: upstream/_guides/cache.adoc:357 upstream/_guides/cache.adoc:460
#: upstream/_guides/cache.adoc:594 upstream/_guides/cache.adoc:623
#: upstream/_guides/cache.adoc:655 upstream/_guides/cache.adoc:823
#, no-wrap
msgid "import jakarta.enterprise.context.ApplicationScoped;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:94 upstream/_guides/cache.adoc:229
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class WeatherForecastService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:103
#, no-wrap
msgid ""
"    public String getDailyForecast(LocalDate date, String city) {\n"
"        try {\n"
"            Thread.sleep(2000L); <1>\n"
"        } catch (InterruptedException e) {\n"
"            Thread.currentThread().interrupt();\n"
"        }\n"
"        return date.getDayOfWeek() + \" will be \" + getDailyResult(date.getDayOfMonth() % 4) + \" in \" + city;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:119 upstream/_guides/cache.adoc:255
#, no-wrap
msgid ""
"    private String getDailyResult(int dayOfMonthModuloFour) {\n"
"        switch (dayOfMonthModuloFour) {\n"
"            case 0:\n"
"                return \"sunny\";\n"
"            case 1:\n"
"                return \"cloudy\";\n"
"            case 2:\n"
"                return \"chilly\";\n"
"            case 3:\n"
"                return \"rainy\";\n"
"            default:\n"
"                throw new IllegalArgumentException();\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:121
#, fuzzy
msgid "This is where the slowness comes from."
msgstr "É daí que vem a lentidão."

#. type: Plain text
#: upstream/_guides/cache.adoc:124
#, fuzzy
msgid "We also need a class that will contain the response sent to the users when they ask for the next three days weather forecast.  Create `src/main/java/org/acme/cache/WeatherForecast.java` this way:"
msgstr "Precisamos também de uma classe que contenha a resposta enviada aos utilizadores quando estes pedem a previsão meteorológica para os próximos três dias. Crie `src/main/java/org/acme/cache/WeatherForecast.java` desta forma:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:130
#, no-wrap
msgid "import java.util.List;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:132
#, no-wrap
msgid "public class WeatherForecast {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:134
#, no-wrap
msgid "    private List<String> dailyForecasts;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:136
#, no-wrap
msgid "    private long executionTimeInMs;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:141
#, no-wrap
msgid ""
"    public WeatherForecast(List<String> dailyForecasts, long executionTimeInMs) {\n"
"        this.dailyForecasts = dailyForecasts;\n"
"        this.executionTimeInMs = executionTimeInMs;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:145
#, no-wrap
msgid ""
"    public List<String> getDailyForecasts() {\n"
"        return dailyForecasts;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:150
#, no-wrap
msgid ""
"    public long getExecutionTimeInMs() {\n"
"        return executionTimeInMs;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:154
#, fuzzy
msgid "Now, we just need to create the REST resource.  Create the `src/main/java/org/acme/cache/WeatherForecastResource.java` file with this content:"
msgstr "Agora, só precisamos de criar o recurso REST. Crie o ficheiro `src/main/java/org/acme/cache/WeatherForecastResource.java` com este conteúdo:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:162
#, no-wrap
msgid ""
"import java.time.LocalDate;\n"
"import java.util.Arrays;\n"
"import java.util.List;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:167
#, no-wrap
msgid ""
"import jakarta.inject.Inject;\n"
"import jakarta.ws.rs.GET;\n"
"import jakarta.ws.rs.Path;\n"
"import jakarta.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:169
#, no-wrap
msgid "import org.jboss.resteasy.reactive.RestQuery;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:172
#, no-wrap
msgid ""
"@Path(\"/weather\")\n"
"public class WeatherForecastResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:175
#, no-wrap
msgid ""
"    @Inject\n"
"    WeatherForecastService service;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:187
#, no-wrap
msgid ""
"    @GET\n"
"    public WeatherForecast getForecast(@RestQuery String city, @RestQuery long daysInFuture) { <1>\n"
"        long executionStart = System.currentTimeMillis();\n"
"        List<String> dailyForecasts = Arrays.asList(\n"
"                service.getDailyForecast(LocalDate.now().plusDays(daysInFuture), city),\n"
"                service.getDailyForecast(LocalDate.now().plusDays(daysInFuture + 1L), city),\n"
"                service.getDailyForecast(LocalDate.now().plusDays(daysInFuture + 2L), city));\n"
"        long executionEnd = System.currentTimeMillis();\n"
"        return new WeatherForecast(dailyForecasts, executionEnd - executionStart);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:190
#, fuzzy
msgid "If the `daysInFuture` query parameter is omitted, the three days weather forecast will start from the current day.  Otherwise, it will start from the current day plus the `daysInFuture` value."
msgstr "Se o parâmetro de consulta `daysInFuture` for omitido, a previsão meteorológica de três dias começará a partir do dia atual. Caso contrário, começará a partir do dia atual mais o valor `daysInFuture`."

#. type: Plain text
#: upstream/_guides/cache.adoc:192
#, fuzzy
msgid "We're all done! Let's check if everything's working."
msgstr "Já está tudo pronto! Vamos verificar se tudo está a funcionar."

#. type: Plain text
#: upstream/_guides/cache.adoc:194
#, fuzzy
msgid "First, run the application using dev mode from the project directory:"
msgstr "Primeiro, execute a aplicação utilizando o modo dev a partir do diretório do projeto:"

#. type: Plain text
#: upstream/_guides/cache.adoc:199
#, fuzzy
msgid "Then, call `http://localhost:8080/weather?city=Raleigh` from a browser.  After six long seconds, the application will answer something like this:"
msgstr "Em seguida, chame `&lt;a href=\"http://localhost:8080/weather?city=Raleigh\" class=\"bare\"&gt;http://localhost:8080/weather?city=Raleigh&lt;/a&gt;` de um navegador. Após seis longos segundos, a aplicação responderá algo como isto:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:203
#, no-wrap
msgid "{\"dailyForecasts\":[\"MONDAY will be cloudy in Raleigh\",\"TUESDAY will be chilly in Raleigh\",\"WEDNESDAY will be rainy in Raleigh\"],\"executionTimeInMs\":6001}\n"
msgstr ""

#. type: delimited block =
#: upstream/_guides/cache.adoc:208
#, fuzzy
msgid "The response content may vary depending on the day you run the code."
msgstr "O conteúdo da resposta pode variar consoante o dia em que o código é executado."

#. type: Plain text
#: upstream/_guides/cache.adoc:211
#, fuzzy
msgid "You can try calling the same URL again and again, it will always take six seconds to answer."
msgstr "Pode tentar ligar repetidamente para o mesmo URL, mas a resposta demorará sempre seis segundos."

#. type: Title ==
#: upstream/_guides/cache.adoc:212
#, fuzzy, no-wrap
msgid "Enabling the cache"
msgstr "Ativar a cache"

#. type: Plain text
#: upstream/_guides/cache.adoc:216
#, fuzzy
msgid "Now that your Quarkus application is up and running, let's tremendously improve its response time by caching the external meteorological service responses.  Update the `WeatherForecastService` class like this:"
msgstr "Agora que a sua aplicação Quarkus está a funcionar, vamos melhorar tremendamente o seu tempo de resposta, armazenando em cache as respostas do serviço meteorológico externo. Actualize a classe `WeatherForecastService` da seguinte forma:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:226
#, no-wrap
msgid "import io.quarkus.cache.CacheResult;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:239
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"weather-cache\") <1>\n"
"    public String getDailyForecast(LocalDate date, String city) {\n"
"        try {\n"
"            Thread.sleep(2000L);\n"
"        } catch (InterruptedException e) {\n"
"            Thread.currentThread().interrupt();\n"
"        }\n"
"        return date.getDayOfWeek() + \" will be \" + getDailyResult(date.getDayOfMonth() % 4) + \" in \" + city;\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:257
#, fuzzy
msgid "We only added this annotation (and the associated import of course)."
msgstr "Apenas adicionámos esta anotação (e a importação associada, claro)."

#. type: Plain text
#: upstream/_guides/cache.adoc:261
#, fuzzy
msgid "Let's try to call `http://localhost:8080/weather?city=Raleigh` again.  You're still waiting a long time before receiving an answer.  This is normal since the server just restarted and the cache was empty."
msgstr "Vamos tentar telefonar `&lt;a href=\"http://localhost:8080/weather?city=Raleigh\" class=\"bare\"&gt;http://localhost:8080/weather?city=Raleigh&lt;/a&gt;` novamente. Continua a esperar muito tempo antes de receber uma resposta. Isto é normal, uma vez que o servidor acabou de ser reiniciado e a cache estava vazia."

#. type: Plain text
#: upstream/_guides/cache.adoc:264
#, fuzzy
msgid "Wait a second! The server restarted by itself after the `WeatherForecastService` update? Yes, this is one of Quarkus amazing features for developers called `live coding`."
msgstr "Espera um segundo! O servidor reiniciou-se sozinho após a atualização de `WeatherForecastService`? Sim, esta é uma das fantásticas funcionalidades do Quarkus para programadores chamada `live coding`."

#. type: Plain text
#: upstream/_guides/cache.adoc:267
#, fuzzy
msgid "Now that the cache was loaded during the previous call, try calling the same URL.  This time, you should get a super fast answer with an `executionTimeInMs` value close to 0."
msgstr "Agora que o cache foi carregado durante a chamada anterior, tente chamar o mesmo URL. Desta vez, você deve obter uma resposta super rápida com um valor `executionTimeInMs` próximo de 0."

#. type: Plain text
#: upstream/_guides/cache.adoc:270
#, fuzzy
msgid "Let's see what happens if we start from one day in the future using the `http://localhost:8080/weather?city=Raleigh&daysInFuture=1` URL.  You should get an answer two seconds later since two of the requested days were already loaded in the cache."
msgstr "Vamos ver o que acontece se começarmos a partir de um dia no futuro usando o `&lt;a href=\"http://localhost:8080/weather?city=Raleigh&amp;amp;daysInFuture=1\" class=\"bare\"&gt;http://localhost:8080/weather?city=Raleigh&amp;amp;daysInFuture=1&lt;/a&gt;` URL. Deverá obter uma resposta dois segundos depois, uma vez que dois dos dias pedidos já foram carregados na cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:273
#, fuzzy
msgid "You can also try calling the same URL with a different city and see the cache in action again.  The first call will take six seconds and the following ones will be answered immediately."
msgstr "Também pode tentar ligar para o mesmo URL com uma cidade diferente e ver a cache em ação novamente. A primeira chamada demorará seis segundos e as seguintes serão respondidas imediatamente."

#. type: Plain text
#: upstream/_guides/cache.adoc:275
#, fuzzy
msgid "Congratulations! You just added application data caching to your Quarkus application with a single line of code!"
msgstr "Parabéns! Acabou de adicionar o caching de dados de aplicação à sua aplicação Quarkus com uma única linha de código!"

#. type: Plain text
#: upstream/_guides/cache.adoc:278
#, fuzzy
msgid "Do you want to learn more about the Quarkus application data caching abilities? The following sections will show you everything there is to know about it."
msgstr "Quer saber mais sobre as capacidades de cache de dados da aplicação Quarkus? As secções seguintes mostrar-lhe-ão tudo o que há para saber sobre o assunto."

#. type: Title ==
#: upstream/_guides/cache.adoc:280
#, fuzzy, no-wrap
msgid "Caching using annotations"
msgstr "Armazenamento em cache utilizando anotações"

#. type: Plain text
#: upstream/_guides/cache.adoc:283
#, fuzzy
msgid "Quarkus offers a set of annotations that can be used in a CDI managed bean to enable caching abilities."
msgstr "O Quarkus oferece um conjunto de anotações que podem ser utilizadas num bean gerido pelo CDI para permitir capacidades de armazenamento em cache."

#. type: delimited block =
#: upstream/_guides/cache.adoc:288
#, fuzzy
msgid "Caching annotations are not allowed on private methods.  They will work fine with any other access modifier including package-private (no explicit modifier)."
msgstr "As anotações de cache não são permitidas em métodos privados. Elas funcionarão bem com qualquer outro modificador de acesso, incluindo package-private (sem modificador explícito)."

#. type: Title ===
#: upstream/_guides/cache.adoc:290
#, fuzzy, no-wrap
msgid "@CacheResult"
msgstr "@CacheResult"

#. type: Plain text
#: upstream/_guides/cache.adoc:293
#, fuzzy
msgid "Loads a method result from the cache without executing the method body whenever possible."
msgstr "Carrega o resultado de um método a partir da cache sem executar o corpo do método, sempre que possível."

#. type: Plain text
#: upstream/_guides/cache.adoc:298
#, fuzzy
msgid "When a method annotated with `@CacheResult` is invoked, Quarkus will compute a cache key and use it to check in the cache whether the method has been already invoked.  See the xref:cache-keys-building-logic[Cache keys building logic] section of this guide to learn how the cache key is computed.  If a value is found in the cache, it is returned and the annotated method is never actually executed.  If no value is found, the annotated method is invoked and the returned value is stored in the cache using the computed key."
msgstr "Quando um método anotado com `@CacheResult` é invocado, o Quarkus calcula uma chave de cache e utiliza-a para verificar na cache se o método já foi invocado. Consulte a secção  link:#cache-keys-building-logic[Lógica de construção de chaves de cache] deste guia para saber como é calculada a chave de cache. Se um valor for encontrado na cache, ele é retornado e o método anotado nunca é realmente executado. Se nenhum valor for encontrado, o método anotado é invocado e o valor retornado é armazenado na cache usando a chave computada."

#. type: Plain text
#: upstream/_guides/cache.adoc:305
#, fuzzy
msgid "A method annotated with `CacheResult` is protected by a lock on cache miss mechanism.  If several concurrent invocations try to retrieve a cache value from the same missing key, the method will only be invoked once.  The first concurrent invocation will trigger the method invocation while the subsequent concurrent invocations will wait for the end of the method invocation to get the cached result.  The `lockTimeout` parameter can be used to interrupt the lock after a given delay.  The lock timeout is disabled by default, meaning the lock is never interrupted.  See the parameter Javadoc for more details."
msgstr "Um método anotado com `CacheResult` é protegido por um mecanismo de bloqueio de perda de cache. Se várias invocações simultâneas tentarem recuperar um valor de cache da mesma chave em falta, o método só será invocado uma vez. A primeira invocação simultânea accionará a invocação do método, enquanto as invocações simultâneas subsequentes aguardarão o fim da invocação do método para obter o resultado em cache. O parâmetro `lockTimeout` pode ser utilizado para interromper o bloqueio após um determinado atraso. O tempo limite do bloqueio é desativado por predefinição, o que significa que o bloqueio nunca é interrompido. Consulte o Javadoc do parâmetro para obter mais detalhes."

#. type: Plain text
#: upstream/_guides/cache.adoc:307
#, fuzzy
msgid "This annotation cannot be used on a method returning `void`."
msgstr "Esta anotação não pode ser utilizada num método que devolva `void`."

#. type: delimited block =
#: upstream/_guides/cache.adoc:312
#, fuzzy
msgid "Quarkus is able to also cache `null` values unlike the underlying Caffeine provider.  See xref:negative-cache[more on this topic below]."
msgstr "O Quarkus também é capaz de armazenar em cache os valores `null`, ao contrário do provedor Caffeine subjacente. Veja  link:#negative-cache[mais sobre este tópico abaixo]."

#. type: Title ===
#: upstream/_guides/cache.adoc:314
#, fuzzy, no-wrap
msgid "@CacheInvalidate"
msgstr "@CacheInvalidate"

#. type: Plain text
#: upstream/_guides/cache.adoc:317
#, fuzzy
msgid "Removes an entry from the cache."
msgstr "Remove uma entrada da cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:321
#, fuzzy
msgid "When a method annotated with `@CacheInvalidate` is invoked, Quarkus will compute a cache key and use it to try to remove an existing entry from the cache.  See the xref:cache-keys-building-logic[Cache keys building logic] section of this guide to learn how the cache key is computed.  If the key does not identify any cache entry, nothing will happen."
msgstr "Quando um método anotado com `@CacheInvalidate` é invocado, o Quarkus calcula uma chave de cache e usa-a para tentar remover uma entrada existente da cache. Consulte a secção  link:#cache-keys-building-logic[Lógica de construção de chaves de cache] deste guia para saber como a chave de cache é calculada. Se a chave não identificar nenhuma entrada de cache, nada acontecerá."

#. type: Title ===
#: upstream/_guides/cache.adoc:322
#, fuzzy, no-wrap
msgid "@CacheInvalidateAll"
msgstr "@CacheInvalidateAll"

#. type: Plain text
#: upstream/_guides/cache.adoc:325
#, fuzzy
msgid "When a method annotated with `@CacheInvalidateAll` is invoked, Quarkus will remove all entries from the cache."
msgstr "Quando um método anotado com `@CacheInvalidateAll` é invocado, o Quarkus remove todas as entradas da cache."

#. type: Title ===
#: upstream/_guides/cache.adoc:326
#, fuzzy, no-wrap
msgid "@CacheKey"
msgstr "@CacheKey"

#. type: Plain text
#: upstream/_guides/cache.adoc:330
#, fuzzy
msgid "When a method argument is annotated with `@CacheKey`, it is identified as a part of the cache key during an invocation of a method annotated with `@CacheResult` or `@CacheInvalidate`."
msgstr "Quando um argumento de método é anotado com `@CacheKey`, é identificado como parte da chave da cache durante uma invocação de um método anotado com `@CacheResult` ou `@CacheInvalidate`."

#. type: Plain text
#: upstream/_guides/cache.adoc:332
#, fuzzy
msgid "This annotation is optional and should only be used when some method arguments are NOT part of the cache key."
msgstr "Esta anotação é opcional e só deve ser utilizada quando alguns argumentos do método NÃO fazem parte da chave da cache."

#. type: Title ===
#: upstream/_guides/cache.adoc:334
#, fuzzy, no-wrap
msgid "Cache keys building logic"
msgstr "Lógica de construção de chaves de cache"

#. type: Plain text
#: upstream/_guides/cache.adoc:337
#, fuzzy
msgid "Cache keys are built by the annotations API using the following logic:"
msgstr "As chaves de cache são criadas pela API de anotações utilizando a seguinte lógica:"

#. type: Plain text
#: upstream/_guides/cache.adoc:339
#, fuzzy
msgid "If an `io.quarkus.cache.CacheKeyGenerator` is declared in a `@CacheResult` or a `@CacheInvalidate` annotation, then it is used to generate the cache key. The `@CacheKey` annotations that might be present on some method arguments are ignored."
msgstr "Se um `io.quarkus.cache.CacheKeyGenerator` for declarado numa anotação `@CacheResult` ou `@CacheInvalidate`, então é utilizado para gerar a chave da cache. As anotações `@CacheKey` que podem estar presentes em alguns argumentos de métodos são ignoradas."

#. type: Plain text
#: upstream/_guides/cache.adoc:340
#, fuzzy
msgid "Otherwise, if the method has no arguments, then the cache key is an instance of `io.quarkus.cache.DefaultCacheKey` built from the cache name."
msgstr "Caso contrário, se o método não tiver argumentos, então a chave da cache é uma instância de `io.quarkus.cache.DefaultCacheKey` construída a partir do nome da cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:341
#, fuzzy
msgid "Otherwise, if the method has exactly one argument, then that argument is the cache key."
msgstr "Caso contrário, se o método tiver exatamente um argumento, então esse argumento é a chave da cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:342
#, fuzzy
msgid "Otherwise, if the method has multiple arguments but only one annotated with `@CacheKey`, then that annotated argument is the cache key."
msgstr "Caso contrário, se o método tiver vários argumentos mas apenas um anotado com `@CacheKey`, então esse argumento anotado é a chave da cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:343
#, fuzzy
msgid "Otherwise, if the method has multiple arguments annotated with `@CacheKey`, then the cache key is an instance of `io.quarkus.cache.CompositeCacheKey` built from these annotated arguments."
msgstr "Caso contrário, se o método tiver vários argumentos anotados com `@CacheKey`, então a chave da cache é uma instância de `io.quarkus.cache.CompositeCacheKey` construída a partir desses argumentos anotados."

#. type: Plain text
#: upstream/_guides/cache.adoc:344
#, fuzzy
msgid "Otherwise, if the method has multiple arguments and none of them are annotated with `@CacheKey`, the cache key is an instance of `io.quarkus.cache.CompositeCacheKey` built from all the method arguments."
msgstr "Caso contrário, se o método tiver vários argumentos e nenhum deles estiver anotado com `@CacheKey`, a chave da cache é uma instância de `io.quarkus.cache.CompositeCacheKey` construída a partir de todos os argumentos do método."

#. type: delimited block =
#: upstream/_guides/cache.adoc:348
#, fuzzy
msgid "Each non-primitive method argument that is part of the key must implement `equals()` and `hashCode()` correctly for the cache to work as expected."
msgstr "Cada argumento de método não primitivo que faz parte da chave deve implementar `equals()` e `hashCode()` corretamente para que a cache funcione como esperado."

#. type: Plain text
#: upstream/_guides/cache.adoc:351
#, fuzzy
msgid "When a cache key is built from several method arguments, whether they are explicitly identified with `@CacheKey` or not, the building logic depends on the order of these arguments in the method signature. On the other hand, the arguments names are not used at all and do not have any effect on the cache key."
msgstr "Quando uma chave de cache é construída a partir de vários argumentos de método, quer sejam explicitamente identificados com `@CacheKey` ou não, a lógica de construção depende da ordem destes argumentos na assinatura do método. Por outro lado, os nomes dos argumentos não são utilizados de todo e não têm qualquer efeito na chave da cache."

#. type: delimited block -
#: upstream/_guides/cache.adoc:360
#, no-wrap
msgid ""
"import io.quarkus.cache.CacheInvalidate;\n"
"import io.quarkus.cache.CacheResult;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:363 upstream/_guides/cache.adoc:470
#: upstream/_guides/cache.adoc:830
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class CachedService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:368
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"foo\")\n"
"    public Object load(String keyElement1, Integer keyElement2) {\n"
"        // Call expensive service here.\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:372
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate1(String keyElement2, Integer keyElement1) { <1>\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:376
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate2(Integer keyElement2, String keyElement1) { <2>\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:380
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate3(Object notPartOfTheKey, @CacheKey String keyElement1, @CacheKey Integer keyElement2) { <3>\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:385
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate4(Object notPartOfTheKey, @CacheKey Integer keyElement2, @CacheKey String keyElement1) { <4>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:387
#, fuzzy
msgid "Calling this method WILL invalidate values cached by the `load` method even if the key elements names have been swapped."
msgstr "Chamar este método VAI invalidar os valores armazenados em cache pelo método `load`, mesmo que os nomes dos elementos-chave tenham sido trocados."

#. type: Plain text
#: upstream/_guides/cache.adoc:388 upstream/_guides/cache.adoc:390
#, fuzzy
msgid "Calling this method WILL NOT invalidate values cached by the `load` method because the key elements order is different."
msgstr "Chamar este método NÃO invalidará os valores armazenados em cache pelo método `load` porque a ordem dos elementos-chave é diferente."

#. type: Plain text
#: upstream/_guides/cache.adoc:389
#, fuzzy
msgid "Calling this method WILL invalidate values cached by the `load` method because the key elements order is the same."
msgstr "Chamar este método VAI invalidar os valores armazenados em cache pelo método `load` porque a ordem dos elementos-chave é a mesma."

#. type: Title ===
#: upstream/_guides/cache.adoc:391
#, fuzzy, no-wrap
msgid "Generating a cache key with `CacheKeyGenerator`"
msgstr "Geração de uma chave de cache com `CacheKeyGenerator`"

#. type: Plain text
#: upstream/_guides/cache.adoc:395
#, fuzzy
msgid "You may want to include more than the arguments of a method into a cache key.  This can be done by implementing the `io.quarkus.cache.CacheKeyGenerator` interface and declaring that implementation in the `keyGenerator` field of a `@CacheResult` or `@CacheInvalidate` annotation."
msgstr "Você pode querer incluir mais do que os argumentos de um método em uma chave de cache. Isto pode ser feito implementando a interface `io.quarkus.cache.CacheKeyGenerator` e declarando essa implementação no campo `keyGenerator` de uma anotação `@CacheResult` ou `@CacheInvalidate`."

#. type: Plain text
#: upstream/_guides/cache.adoc:399
#, fuzzy
msgid "If a CDI scope is declared on a key generator class and if that class has a default qualifier (no qualifier annotation or `@jakarta.enterprise.inject.Default`), then the key generator will be injected as a CDI bean during the cache key computation.  Otherwise, the key generator will be instantiated using its default constructor.  All CDI scopes supported by Quarkus can be used on a key generator."
msgstr "Se um escopo CDI for declarado em uma classe geradora de chaves e se essa classe tiver um qualificador padrão (sem anotação de qualificador ou `@jakarta.enterprise.inject.Default`), o gerador de chaves será injetado como um bean CDI durante o cálculo da chave de cache. Caso contrário, o gerador de chaves será instanciado usando seu construtor padrão. Todos os âmbitos CDI suportados pelo Quarkus podem ser utilizados num gerador de chaves."

#. type: Plain text
#: upstream/_guides/cache.adoc:401
#, fuzzy
msgid "The following key generator will be injected as a CDI bean:"
msgstr "O seguinte gerador de chaves será injetado como um bean CDI:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:409
#, no-wrap
msgid ""
"import java.lang.reflect.Method;\n"
"import jakarta.enterprise.context.ApplicationScoped;\n"
"import jakarta.inject.Inject;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:412 upstream/_guides/cache.adoc:440
#, no-wrap
msgid ""
"import io.quarkus.cache.CacheKeyGenerator;\n"
"import io.quarkus.cache.CompositeCacheKey;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:415
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class ApplicationScopedKeyGen implements CacheKeyGenerator {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:418
#, no-wrap
msgid ""
"    @Inject\n"
"    AnythingYouNeedHere anythingYouNeedHere; <1>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:424
#, no-wrap
msgid ""
"    @Override\n"
"    public Object generate(Method method, Object... methodParams) { <2>\n"
"        return new CompositeCacheKey(anythingYouNeedHere.getData(), methodParams[1]); <3>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:426
#, fuzzy
msgid "External data can be included into the cache key by injecting a CDI bean in the key generator."
msgstr "Os dados externos podem ser incluídos na chave da cache através da injeção de um bean CDI no gerador de chaves."

#. type: Plain text
#: upstream/_guides/cache.adoc:427
#, fuzzy
msgid "Be careful while using `Method`, some of its methods can be expensive."
msgstr "Tenha cuidado ao utilizar `Method`, alguns dos seus métodos podem ser dispendiosos."

#. type: Plain text
#: upstream/_guides/cache.adoc:429
#, fuzzy
msgid "Make sure the method has enough arguments before accessing them from their index.  Otherwise, an `IndexOutOfBoundsException` may be thrown during the cache key computation."
msgstr "Certifique-se de que o método tem argumentos suficientes antes de aceder aos mesmos a partir do respetivo índice. Caso contrário, pode ser lançado um `IndexOutOfBoundsException` durante o cálculo da chave da cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:431
#, fuzzy
msgid "The following key generator will be instantiated using its default constructor:"
msgstr "O seguinte gerador de chaves será instanciado utilizando o seu construtor predefinido:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:437
#, no-wrap
msgid "import java.lang.reflect.Method;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:442
#, no-wrap
msgid "public class NotABeanKeyGen implements CacheKeyGenerator {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:444
#, no-wrap
msgid "    // CDI injections won't work here because it's not a CDI bean.\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:450
#, no-wrap
msgid ""
"    @Override\n"
"    public Object generate(Method method, Object... methodParams) {\n"
"        return new CompositeCacheKey(method.getName(), methodParams[0]); <1>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:452
#, fuzzy
msgid "Including the method name into the cache key is not expensive, unlike other methods from `Method`."
msgstr "A inclusão do nome do método na chave da cache não é dispendiosa, ao contrário de outros métodos de `Method`."

#. type: Plain text
#: upstream/_guides/cache.adoc:454
#, fuzzy
msgid "Both kinds of key generators can be used in a similar way:"
msgstr "Ambos os tipos de geradores de chaves podem ser utilizados de forma semelhante:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:463
#, no-wrap
msgid ""
"import org.acme.cache.ApplicationScopedKeyGen;\n"
"import org.acme.cache.NotABeanKeyGen;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:467
#, no-wrap
msgid ""
"import io.quarkus.cache.CacheKey;\n"
"import io.quarkus.cache.CacheInvalidate;\n"
"import io.quarkus.cache.CacheResult;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:475
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"foo\", keyGenerator = ApplicationScopedKeyGen.class) <1>\n"
"    public Object load(@CacheKey Object notUsedInKey, String keyElement) { <2>\n"
"        // Call expensive service here.\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:479
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\", keyGenerator = NotABeanKeyGen.class) <3>\n"
"    public void invalidate(Object keyElement) {\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:485
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\", keyGenerator = NotABeanKeyGen.class)\n"
"    @CacheInvalidate(cacheName = \"bar\")\n"
"    public void invalidate(Integer param0, @CacheKey BigDecimal param1) { <4>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:487
#, fuzzy
msgid "This key generator is a CDI bean."
msgstr "Este gerador de chaves é um feijão CDI."

#. type: Plain text
#: upstream/_guides/cache.adoc:488
#, fuzzy
msgid "The `@CacheKey` annotation will be ignored because a key generator is declared in the `@CacheResult` annotation."
msgstr "A anotação `@CacheKey` será ignorada porque um gerador de chaves é declarado na anotação `@CacheResult`."

#. type: Plain text
#: upstream/_guides/cache.adoc:489
#, fuzzy
msgid "This key generator is not a CDI bean."
msgstr "Este gerador de chaves não é um bean CDI."

#. type: Plain text
#: upstream/_guides/cache.adoc:490
#, fuzzy
msgid "The `@CacheKey` annotation will be ignored when the `foo` cache data is invalidated, but `param1` will be the cache key when the `bar` cache data is invalidated."
msgstr "A anotação `@CacheKey` será ignorada quando os dados da cache `foo` forem invalidados, mas `param1` será a chave da cache quando os dados da cache `bar` forem invalidados."

#. type: Title ==
#: upstream/_guides/cache.adoc:492
#, fuzzy, no-wrap
msgid "Caching using the programmatic API"
msgstr "Armazenamento em cache usando a API programática"

#. type: Plain text
#: upstream/_guides/cache.adoc:496
#, fuzzy
msgid "Quarkus also offers a programmatic API which can be used to store, retrieve or delete values from any cache declared using the annotations API.  All operations from the programmatic API are non-blocking and rely on https://smallrye.io/smallrye-mutiny/[Mutiny] under the hood."
msgstr "O Quarkus também oferece uma API programática que pode ser usada para armazenar, recuperar ou excluir valores de qualquer cache declarada usando a API de anotações. Todas as operações da API programática são não-bloqueantes e dependem do  link:https://smallrye.io/smallrye-mutiny/[Mutiny]."

#. type: Plain text
#: upstream/_guides/cache.adoc:499
#, fuzzy
msgid "Before accessing programmatically the cached data, you need to retrieve an `io.quarkus.cache.Cache` instance.  The following sections will show you how to do that."
msgstr "Antes de aceder programaticamente aos dados armazenados em cache, é necessário recuperar uma instância de `io.quarkus.cache.Cache`. As secções seguintes mostram-lhe como o fazer."

#. type: Title ===
#: upstream/_guides/cache.adoc:500
#, fuzzy, no-wrap
msgid "Injecting a `Cache` with the `@CacheName` annotation"
msgstr "Injetar um `Cache` com a anotação `@CacheName`"

#. type: Plain text
#: upstream/_guides/cache.adoc:503
#, fuzzy
msgid "`io.quarkus.cache.CacheName` can be used on a field, a constructor parameter or a method parameter to inject a `Cache`:"
msgstr "`io.quarkus.cache.CacheName` pode ser utilizado num campo, num parâmetro de um construtor ou num parâmetro de um método para injetar um `Cache`:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:510
#, no-wrap
msgid ""
"import jakarta.enterprise.context.ApplicationScoped;\n"
"import jakarta.inject.Inject;\n"
msgstr ""
"import jakarta.enterprise.context.ApplicationScoped;\n"
"import jakarta.inject.Inject;\n"

#. type: delimited block -
#: upstream/_guides/cache.adoc:514
#, no-wrap
msgid ""
"import io.quarkus.cache.Cache;\n"
"import io.quarkus.cache.CacheName;\n"
"import io.smallrye.mutiny.Uni;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:517
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class CachedExpensiveService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:521
#, no-wrap
msgid ""
"    @Inject //<1>\n"
"    @CacheName(\"my-cache\")\n"
"    Cache cache;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:530
#, no-wrap
msgid ""
"    public Uni<String> getNonBlockingExpensiveValue(Object key) { //<2>\n"
"        return cache.get(key, k -> { //<3>\n"
"            /*\n"
"             * Put an expensive call here.\n"
"             * It will be executed only if the key is not already associated with a value in the cache.\n"
"             */\n"
"        });\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:537
#, no-wrap
msgid ""
"    public String getBlockingExpensiveValue(Object key) {\n"
"        return cache.get(key, k -> {\n"
"            // Put an expensive call here.\n"
"        }).await().indefinitely(); //<4>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:539
#, fuzzy
msgid "This is optional."
msgstr "Esta opção é facultativa."

#. type: Plain text
#: upstream/_guides/cache.adoc:540
#, fuzzy
msgid "This method returns the `Uni<String>` type which is non-blocking."
msgstr "Este método devolve o tipo `Uni&amp;lt;String&amp;gt;` que é não bloqueante."

#. type: Plain text
#: upstream/_guides/cache.adoc:541
#, fuzzy
msgid "The `k` argument contains the cache key value."
msgstr "O argumento `k` contém o valor da chave da cache."

#. type: Plain text
#: upstream/_guides/cache.adoc:542
#, fuzzy
msgid "If you don't need the call to be non-blocking, this is how you can retrieve the cache value in a blocking way."
msgstr "Se não precisar que a chamada seja não bloqueante, é assim que pode recuperar o valor da cache de uma forma bloqueante."

#. type: Title ===
#: upstream/_guides/cache.adoc:543
#, fuzzy, no-wrap
msgid "Retrieving a `Cache` from the `CacheManager`"
msgstr "Recuperar um `Cache` do `CacheManager`"

#. type: Plain text
#: upstream/_guides/cache.adoc:546
#, fuzzy
msgid "Another way to retrieve a `Cache` instance consists in injecting the `io.quarkus.cache.CacheManager` first and then retrieving the desired `Cache` from its name:"
msgstr "Outra forma de obter uma instância de `Cache` consiste em injetar primeiro o `io.quarkus.cache.CacheManager` e depois obter o `Cache` pretendido a partir do seu nome:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:553 upstream/_guides/cache.adoc:685
#: upstream/_guides/cache.adoc:948
#, no-wrap
msgid ""
"import jakarta.inject.Inject;\n"
"import jakarta.inject.Singleton;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:556
#, no-wrap
msgid ""
"import io.quarkus.cache.Cache;\n"
"import io.quarkus.cache.CacheManager;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:558
#, no-wrap
msgid "import java.util.Optional;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:561 upstream/_guides/cache.adoc:953
#, no-wrap
msgid ""
"@Singleton\n"
"public class CacheClearer {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:563 upstream/_guides/cache.adoc:697
#: upstream/_guides/cache.adoc:955
#, no-wrap
msgid "    private final CacheManager cacheManager;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:567 upstream/_guides/cache.adoc:959
#, no-wrap
msgid ""
"    public CacheClearer(CacheManager cacheManager) {\n"
"        this.cacheManager = cacheManager;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:575
#, no-wrap
msgid ""
"    public void clearCache(String cacheName) {\n"
"        Optional<Cache> cache = cacheManager.getCache(cacheName);\n"
"        if (cache.isPresent()) {\n"
"            cache.get().invalidateAll().await().indefinitely();\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/cache.adoc:577
#, fuzzy, no-wrap
msgid "Building a programmatic cache key"
msgstr "Criar uma chave de cache programática"

#. type: Plain text
#: upstream/_guides/cache.adoc:581
#, fuzzy
msgid "Before building a programmatic cache key, you need to know how cache keys are built by the annotations API when an annotated method is invoked.  This is explained in the xref:cache-keys-building-logic[Cache keys building logic] section of this guide."
msgstr "Antes de construir uma chave de cache programática, é necessário saber como as chaves de cache são construídas pela API de anotações quando um método anotado é invocado. Isto é explicado na secção  link:#cache-keys-building-logic[Lógica de construção de chaves de cache] deste guia."

#. type: Plain text
#: upstream/_guides/cache.adoc:583
#, fuzzy
msgid "Now, if you want to retrieve or delete, using the programmatic API, a cache value that was stored using the annotations API, you just need to make sure the same key is used with both APIs."
msgstr "Agora, se quiser recuperar ou eliminar, utilizando a API programática, um valor de cache que foi armazenado utilizando a API de anotações, só precisa de se certificar de que a mesma chave é utilizada com ambas as APIs."

#. type: Title ===
#: upstream/_guides/cache.adoc:584
#, fuzzy, no-wrap
msgid "Retrieving all keys from a `CaffeineCache`"
msgstr "Recuperar todas as chaves de um `CaffeineCache`"

#. type: Plain text
#: upstream/_guides/cache.adoc:588
#, fuzzy
msgid "The cache keys from a specific `CaffeineCache` can be retrieved as an unmodifiable `Set` as shown below.  If the cache entries are modified while an iteration over the set is in progress, the set will remain unchanged."
msgstr "As chaves da cache de um `CaffeineCache` específico podem ser recuperadas como um `Set` não modificável, como se mostra abaixo. Se as entradas da cache forem modificadas enquanto estiver a decorrer uma iteração sobre o conjunto, o conjunto permanecerá inalterado."

#. type: delimited block -
#: upstream/_guides/cache.adoc:598 upstream/_guides/cache.adoc:627
#: upstream/_guides/cache.adoc:659
#, no-wrap
msgid ""
"import io.quarkus.cache.Cache;\n"
"import io.quarkus.cache.CacheName;\n"
"import io.quarkus.cache.CaffeineCache;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:600
#, no-wrap
msgid "import java.util.Set;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:603 upstream/_guides/cache.adoc:664
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class CacheKeysService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:606 upstream/_guides/cache.adoc:635
#: upstream/_guides/cache.adoc:667
#, no-wrap
msgid ""
"    @CacheName(\"my-cache\")\n"
"    Cache cache;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:611
#, no-wrap
msgid ""
"    public Set<Object> getAllCacheKeys() {\n"
"        return cache.as(CaffeineCache.class).keySet();\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/cache.adoc:613
#, fuzzy, no-wrap
msgid "Populating a `CaffeineCache`"
msgstr "Preenchimento de um `CaffeineCache`"

#. type: Plain text
#: upstream/_guides/cache.adoc:617
#, fuzzy
msgid "You can populate a `CaffeineCache` using the `CaffeineCache#put(Object, CompletableFuture)` method.  This method associates the `CompletableFuture` with the given key in the cache. If the cache previously contained a value associated with the key, the old value is replaced by this `CompletableFuture`. If the asynchronous computation fails, the entry will be automatically removed."
msgstr "Pode preencher um `CaffeineCache` utilizando o método `CaffeineCache#put(Object, CompletableFuture)`. Este método associa o `CompletableFuture` à chave indicada na cache. Se a cache continha anteriormente um valor associado à chave, o valor antigo é substituído por este `CompletableFuture`. Se o cálculo assíncrono falhar, a entrada será automaticamente removida."

#. type: delimited block -
#: upstream/_guides/cache.adoc:629 upstream/_guides/cache.adoc:661
#, no-wrap
msgid "import java.util.concurrent.CompletableFuture;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:632
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"public class CacheService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:641
#, no-wrap
msgid ""
"    @PostConstruct\n"
"    public void initialize() {\n"
"        cache.as(CaffeineCache.class).put(\"foo\", CompletableFuture.completedFuture(\"bar\"));\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/cache.adoc:643
#, fuzzy, no-wrap
msgid "Retrieving a value if a key is present from a `CaffeineCache`"
msgstr "Recuperar um valor se uma chave estiver presente num ficheiro `CaffeineCache`"

#. type: Plain text
#: upstream/_guides/cache.adoc:649
#, fuzzy
msgid "The cache value from a specific `CaffeineCache` can be retrieved if present as shown below.  If the given key is contained in the cache, the method will return the `CompletableFuture` the specified key is mapped to.  That `CompletableFuture` may be computing or may already be completed.  Otherwise, the method will return `null`."
msgstr "O valor da cache de um `CaffeineCache` específico pode ser recuperado se estiver presente, como se mostra abaixo. Se a chave indicada estiver contida na cache, o método devolverá o `CompletableFuture` para o qual a chave especificada está mapeada. Esse `CompletableFuture` pode estar a ser computado ou pode já estar concluído. Caso contrário, o método devolverá `null`."

#. type: delimited block -
#: upstream/_guides/cache.adoc:672
#, no-wrap
msgid ""
"    public CompletableFuture<Object> getIfPresent(Object key) {\n"
"        return cache.as(CaffeineCache.class).getIfPresent(key);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/cache.adoc:674
#, fuzzy, no-wrap
msgid "Changing the expiration policy or the maximum size of a `CaffeineCache` in real time"
msgstr "Alterar a política de expiração ou o tamanho máximo de um `CaffeineCache` em tempo real"

#. type: Plain text
#: upstream/_guides/cache.adoc:678
#, fuzzy
msgid "The expiration policy of a `CaffeineCache` can be changed while a Quarkus app is running if that policy was initially specified in the Quarkus configuration.  Similarly, the maximum size of a `CaffeineCache` can be changed in real time if the cache was built with an initial maximum size defined in the configuration."
msgstr "A política de expiração de um `CaffeineCache` pode ser alterada enquanto uma aplicação Quarkus está a ser executada se essa política tiver sido inicialmente especificada na configuração do Quarkus. Da mesma forma, o tamanho máximo de um `CaffeineCache` pode ser alterado em tempo real se a cache tiver sido criada com um tamanho máximo inicial definido na configuração."

#. type: delimited block -
#: upstream/_guides/cache.adoc:689
#, no-wrap
msgid ""
"import io.quarkus.cache.Cache;\n"
"import io.quarkus.cache.CacheManager;\n"
"import io.quarkus.cache.CaffeineCache;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:692
#, no-wrap
msgid ""
"import java.time.Duration;\n"
"import java.util.Optional;import javax.inject.Singleton;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:695
#, no-wrap
msgid ""
"@Singleton\n"
"public class CacheConfigManager {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:701
#, no-wrap
msgid ""
"    public CacheConfigManager(CacheManager cacheManager) {\n"
"        this.cacheManager = cacheManager;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:708
#, no-wrap
msgid ""
"    public void setExpireAfterAccess(String cacheName, Duration duration) {\n"
"        Optional<Cache> cache = cacheManager.getCache(cacheName);\n"
"        if (cache.isPresent()) {\n"
"            cache.get().as(CaffeineCache.class).setExpireAfterAccess(duration); <1>\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:715
#, no-wrap
msgid ""
"    public void setExpireAfterWrite(String cacheName, Duration duration) {\n"
"        Optional<Cache> cache = cacheManager.getCache(cacheName);\n"
"        if (cache.isPresent()) {\n"
"            cache.get().as(CaffeineCache.class).setExpireAfterWrite(duration); <2>\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:723
#, no-wrap
msgid ""
"    public void setMaximumSize(String cacheName, long maximumSize) {\n"
"        Optional<Cache> cache = cacheManager.getCache(cacheName);\n"
"        if (cache.isPresent()) {\n"
"            cache.get().as(CaffeineCache.class).setMaximumSize(maximumSize); <3>\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:725
#, fuzzy
msgid "This line will only work if the cache was constructed with an `expire-after-access` configuration value. Otherwise, an `IllegalStateException` will be thrown."
msgstr "Esta linha só funcionará se a cache tiver sido construída com um valor de configuração `expire-after-access`. Caso contrário, será lançado um `IllegalStateException`."

#. type: Plain text
#: upstream/_guides/cache.adoc:726
#, fuzzy
msgid "This line will only work if the cache was constructed with an `expire-after-write` configuration value. Otherwise, an `IllegalStateException` will be thrown."
msgstr "Esta linha só funcionará se a cache tiver sido construída com um valor de configuração `expire-after-write`. Caso contrário, será lançado um `IllegalStateException`."

#. type: Plain text
#: upstream/_guides/cache.adoc:727
#, fuzzy
msgid "This line will only work if the cache was constructed with a `maximum-size` configuration value. Otherwise, an `IllegalStateException` will be thrown."
msgstr "Esta linha só funcionará se a cache tiver sido construída com um valor de configuração `maximum-size`. Caso contrário, será lançado um `IllegalStateException`."

#. type: delimited block =
#: upstream/_guides/cache.adoc:731
#, fuzzy
msgid "The `setExpireAfterAccess`, `setExpireAfterWrite` and `setMaximumSize` methods from `CaffeineCache` must never be invoked from within an atomic scope of a cache operation."
msgstr "Os métodos `setExpireAfterAccess`, `setExpireAfterWrite` e `setMaximumSize` de `CaffeineCache` nunca devem ser invocados a partir de um âmbito atómico de uma operação de cache."

#. type: Title ==
#: upstream/_guides/cache.adoc:733
#, fuzzy, no-wrap
msgid "Configuring the underlying caching provider"
msgstr "Configurar o fornecedor de caching subjacente"

#. type: Plain text
#: upstream/_guides/cache.adoc:737
#, fuzzy
msgid "This extension uses https://github.com/ben-manes/caffeine[Caffeine] as its underlying caching provider.  Caffeine is a high performance, near optimal caching library."
msgstr "Esta extensão usa  link:https://github.com/ben-manes/caffeine[Caffeine] como seu provedor de cache subjacente. Caffeine é uma biblioteca de cache de alto desempenho e quase ideal."

#. type: Title ===
#: upstream/_guides/cache.adoc:738
#, fuzzy, no-wrap
msgid "Caffeine configuration properties"
msgstr "Propriedades de configuração da cafeína"

#. type: Plain text
#: upstream/_guides/cache.adoc:742
#, fuzzy
msgid "Each of the Caffeine caches backing up the Quarkus application data caching extension can be configured using the following properties in the `application.properties` file. By default, caches do not perform any type of eviction if not configured."
msgstr "Cada uma das caches Caffeine que suportam a extensão de cache de dados da aplicação Quarkus pode ser configurada utilizando as seguintes propriedades no ficheiro `application.properties`. Por defeito, as caches não executam qualquer tipo de despejo se não estiverem configuradas."

#. type: delimited block =
#: upstream/_guides/cache.adoc:746
#, fuzzy
msgid "You need to replace `cache-name` in all the following properties with the real name of the cache you want to configure."
msgstr "É necessário substituir `cache-name` em todas as propriedades seguintes pelo nome real da cache que pretende configurar."

#. type: Plain text
#: upstream/_guides/cache.adoc:751
#, fuzzy
msgid "Here's what your cache configuration could look like:"
msgstr "Eis como pode ser a configuração da cache:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:758
#, no-wrap
msgid ""
"quarkus.cache.caffeine.\"foo\".initial-capacity=10 <1>\n"
"quarkus.cache.caffeine.\"foo\".maximum-size=20\n"
"quarkus.cache.caffeine.\"foo\".expire-after-write=60S\n"
"quarkus.cache.caffeine.\"bar\".maximum-size=1000 <2>\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:760
#, fuzzy
msgid "The `foo` cache is being configured."
msgstr "A cache `foo` está a ser configurada."

#. type: Plain text
#: upstream/_guides/cache.adoc:761
#, fuzzy
msgid "The `bar` cache is being configured."
msgstr "A cache `bar` está a ser configurada."

#. type: Title ==
#: upstream/_guides/cache.adoc:762
#, fuzzy, no-wrap
msgid "Enabling Micrometer metrics"
msgstr "Ativação de métricas de micrómetros"

#. type: Plain text
#: upstream/_guides/cache.adoc:765
#, fuzzy
msgid "Each cache declared using the xref:annotations-api[annotations caching API] can be monitored using Micrometer metrics."
msgstr "Cada cache declarada utilizando a  link:#annotations-api[API de cache de anotações] pode ser monitorizada utilizando as métricas do Micrometer."

#. type: delimited block =
#: upstream/_guides/cache.adoc:770
#, fuzzy
msgid "The cache metrics collection will only work if your application depends on a `quarkus-micrometer-registry-*` extension.  See the xref:telemetry-micrometer.adoc[Micrometer metrics guide] to learn how to use Micrometer in Quarkus."
msgstr "A coleção de métricas da cache só funcionará se a sua aplicação depender de uma extensão `quarkus-micrometer-registry-*`. Consulte o  link:telemetry-micrometer.html[guia de métricas do Mic] rometer para saber como usar o Micrometer no Quarkus."

#. type: Plain text
#: upstream/_guides/cache.adoc:774
#, fuzzy
msgid "The cache metrics collection is disabled by default.  It can be enabled from the `application.properties` file:"
msgstr "A recolha de métricas da cache está desactivada por predefinição. Pode ser activada a partir do ficheiro `application.properties`:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:778
#, no-wrap
msgid "quarkus.cache.caffeine.\"foo\".metrics-enabled=true\n"
msgstr ""

#. type: delimited block =
#: upstream/_guides/cache.adoc:783
#, fuzzy
msgid "Like all instrumentation methods, collecting metrics comes with a small overhead that can impact the application performances."
msgstr "Como todos os métodos de instrumentação, a recolha de métricas tem um pequeno custo adicional que pode afetar o desempenho da aplicação."

#. type: Plain text
#: upstream/_guides/cache.adoc:786
#, fuzzy
msgid "The collected metrics contain cache statistics such as:"
msgstr "As métricas recolhidas contêm estatísticas da cache, tais como:"

#. type: Plain text
#: upstream/_guides/cache.adoc:788
#, fuzzy
msgid "the approximate current number of entries in the cache"
msgstr "o número atual aproximado de entradas na cache"

#. type: Plain text
#: upstream/_guides/cache.adoc:789
#, fuzzy
msgid "the number of entries that were added to the cache"
msgstr "o número de entradas que foram adicionadas à cache"

#. type: Plain text
#: upstream/_guides/cache.adoc:790
#, fuzzy
msgid "the number of times a cache lookup has been performed, including information about hits and misses"
msgstr "o número de vezes que uma pesquisa na cache foi efectuada, incluindo informações sobre acertos e erros"

#. type: Plain text
#: upstream/_guides/cache.adoc:791
#, fuzzy
msgid "the number of evictions and the weight of the evicted entries"
msgstr "o número de expulsões e o peso das entradas expulsas"

#. type: Plain text
#: upstream/_guides/cache.adoc:793
#, fuzzy
msgid "Here is an example of cache metrics available for an application that depends on the `quarkus-micrometer-registry-prometheus` extension:"
msgstr "Aqui está um exemplo de métricas de cache disponíveis para uma aplicação que depende da extensão `quarkus-micrometer-registry-prometheus`:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:812
#, no-wrap
msgid ""
"# HELP cache_size The number of entries in this cache. This may be an approximation, depending on the type of cache.\n"
"# TYPE cache_size gauge\n"
"cache_size{cache=\"foo\",} 8.0\n"
"# HELP cache_puts_total The number of entries added to the cache\n"
"# TYPE cache_puts_total counter\n"
"cache_puts_total{cache=\"foo\",} 12.0\n"
"# HELP cache_gets_total The number of times cache lookup methods have returned a cached value.\n"
"# TYPE cache_gets_total counter\n"
"cache_gets_total{cache=\"foo\",result=\"hit\",} 53.0\n"
"cache_gets_total{cache=\"foo\",result=\"miss\",} 12.0\n"
"# HELP cache_evictions_total cache evictions\n"
"# TYPE cache_evictions_total counter\n"
"cache_evictions_total{cache=\"foo\",} 4.0\n"
"# HELP cache_eviction_weight_total The sum of weights of evicted entries. This total does not include manual invalidations.\n"
"# TYPE cache_eviction_weight_total counter\n"
"cache_eviction_weight_total{cache=\"foo\",} 540.0\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/cache.adoc:814
#, fuzzy, no-wrap
msgid "Annotated beans examples"
msgstr "Exemplos de feijões anotados"

#. type: Title ===
#: upstream/_guides/cache.adoc:816
#, fuzzy, no-wrap
msgid "Implicit simple cache key"
msgstr "Chave de cache simples implícita"

#. type: delimited block -
#: upstream/_guides/cache.adoc:827 upstream/_guides/cache.adoc:890
#: upstream/_guides/cache.adoc:921
#, no-wrap
msgid ""
"import io.quarkus.cache.CacheInvalidate;\n"
"import io.quarkus.cache.CacheInvalidateAll;\n"
"import io.quarkus.cache.CacheResult;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:835
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"foo\")\n"
"    public Object load(Object key) { <1>\n"
"        // Call expensive service here.\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:839
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate(Object key) { <1>\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:844 upstream/_guides/cache.adoc:876
#: upstream/_guides/cache.adoc:907
#, no-wrap
msgid ""
"    @CacheInvalidateAll(cacheName = \"foo\")\n"
"    public void invalidateAll() {\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:846
#, fuzzy
msgid "The cache key is implicit since there's no `@CacheKey` annotation."
msgstr "A chave da cache é implícita, uma vez que não existe a anotação `@CacheKey`."

#. type: Title ===
#: upstream/_guides/cache.adoc:847
#, fuzzy, no-wrap
msgid "Explicit composite cache key"
msgstr "Chave de cache composta explícita"

#. type: delimited block -
#: upstream/_guides/cache.adoc:854 upstream/_guides/cache.adoc:886
#, no-wrap
msgid "import jakarta.enterprise.context.Dependent;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:859
#, no-wrap
msgid ""
"import io.quarkus.cache.CacheInvalidate;\n"
"import io.quarkus.cache.CacheInvalidateAll;\n"
"import io.quarkus.cache.CacheKey;\n"
"import io.quarkus.cache.CacheResult;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:862 upstream/_guides/cache.adoc:893
#, no-wrap
msgid ""
"@Dependent\n"
"public class CachedService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:867
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"foo\")\n"
"    public String load(@CacheKey Object keyElement1, @CacheKey Object keyElement2, Object notPartOfTheKey) { <1>\n"
"        // Call expensive service here.\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:871
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate(@CacheKey Object keyElement1, @CacheKey Object keyElement2, Object notPartOfTheKey) { <1>\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:878
#, fuzzy
msgid "The cache key is explicitly composed of two elements. The method signature also contains a third argument which is not part of the key."
msgstr "A chave da cache é explicitamente composta por dois elementos. A assinatura do método também contém um terceiro argumento que não faz parte da chave."

#. type: Title ===
#: upstream/_guides/cache.adoc:879
#, fuzzy, no-wrap
msgid "Default cache key"
msgstr "Chave de cache predefinida"

#. type: delimited block -
#: upstream/_guides/cache.adoc:898
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"foo\")\n"
"    public String load() { <1>\n"
"        // Call expensive service here.\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:902
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    public void invalidate() { <1>\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:909
#, fuzzy
msgid "A unique default cache key derived from the cache name is used because the method has no arguments."
msgstr "É utilizada uma chave de cache predefinida única derivada do nome da cache porque o método não tem argumentos."

#. type: Title ===
#: upstream/_guides/cache.adoc:910
#, fuzzy, no-wrap
msgid "Multiple annotations on a single method"
msgstr "Anotações múltiplas num único método"

#. type: delimited block -
#: upstream/_guides/cache.adoc:917
#, no-wrap
msgid "import jakarta.inject.Singleton;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:924
#, no-wrap
msgid ""
"@Singleton\n"
"public class CachedService {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:930
#, no-wrap
msgid ""
"    @CacheInvalidate(cacheName = \"foo\")\n"
"    @CacheResult(cacheName = \"foo\")\n"
"    public String forceCacheEntryRefresh(Object key) { <1>\n"
"        // Call expensive service here.\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:936
#, no-wrap
msgid ""
"    @CacheInvalidateAll(cacheName = \"foo\")\n"
"    @CacheInvalidateAll(cacheName = \"bar\")\n"
"    public void multipleInvalidateAll(Object key) { <2>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:938
#, fuzzy
msgid "This method can be used to force a refresh of the cache entry corresponding to the given key."
msgstr "Este método pode ser utilizado para forçar uma atualização da entrada de cache correspondente à chave indicada."

#. type: Plain text
#: upstream/_guides/cache.adoc:939
#, fuzzy
msgid "This method will invalidate all entries from the `foo` and `bar` caches with a single call."
msgstr "Este método invalidará todas as entradas das caches `foo` e `bar` com uma única chamada."

#. type: Title ===
#: upstream/_guides/cache.adoc:940
#, fuzzy, no-wrap
msgid "Clear all application caches"
msgstr "Limpar todas as caches de aplicações"

#. type: delimited block -
#: upstream/_guides/cache.adoc:950
#, no-wrap
msgid "import io.quarkus.cache.CacheManager;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:966
#, no-wrap
msgid ""
"    public void clearAllCaches() {\n"
"        for (String cacheName : cacheManager.getCacheNames()) {\n"
"            cacheManager.getCache(cacheName).get().invalidateAll().await().indefinitely();\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/cache.adoc:969
#, fuzzy, no-wrap
msgid "Negative caching and nulls"
msgstr "Cache negativo e nulos"

#. type: Plain text
#: upstream/_guides/cache.adoc:974
#, fuzzy
msgid "Sometimes one wants to cache the result of an (expensive) remote call.  If the remote call fails, one may not want to cache the result or exception, but rather re-try the remote call on the next invocation."
msgstr "Por vezes, pretende-se guardar em cache o resultado de uma chamada remota (dispendiosa). Se a chamada remota falhar, pode não se querer guardar em cache o resultado ou a exceção, mas sim tentar novamente a chamada remota na próxima invocação."

#. type: Plain text
#: upstream/_guides/cache.adoc:977
#, fuzzy
msgid "A simple approach could be to catch the exception and return `null`, so that the caller can act accordingly:"
msgstr "Uma abordagem simples poderia consistir em apanhar a exceção e devolver `null`, para que o autor da chamada possa agir em conformidade:"

#. type: Block title
#: upstream/_guides/cache.adoc:978
#, fuzzy, no-wrap
msgid "Sample code"
msgstr "Código de amostra"

#. type: delimited block -
#: upstream/_guides/cache.adoc:982
#, no-wrap
msgid "    public void caller(int val) {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:990
#, no-wrap
msgid ""
"        Integer result = callRemote(val); //<1>\n"
"        if (result != null) {\n"
"            System.out.println(\"Result is \" + result);\n"
"        else {\n"
"            System.out.println(\"Got an exception\");\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:993
#, no-wrap
msgid ""
"    @CacheResult(cacheName = \"foo\")\n"
"    public Integer callRemote(int val)  {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:1001
#, no-wrap
msgid ""
"        try {\n"
"            Integer val = remoteWebServer.getResult(val); //<2>\n"
"            return val;\n"
"        } catch (Exception e) {\n"
"            return null; // <3>\n"
"        }\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:1003 upstream/_guides/cache.adoc:1036
#, fuzzy
msgid "Call the method to call the remote"
msgstr "Chamar o método para chamar o controlo remoto"

#. type: Plain text
#: upstream/_guides/cache.adoc:1004
#, fuzzy
msgid "Do the remote call and return its result"
msgstr "Efetuar a chamada remota e devolver o seu resultado"

#. type: Plain text
#: upstream/_guides/cache.adoc:1005
#, fuzzy
msgid "Return in case of exception"
msgstr "Retorno em caso de exceção"

#. type: Plain text
#: upstream/_guides/cache.adoc:1010
#, fuzzy
msgid "This approach has an unfortunate side effect: as we said before, Quarkus can also cache `null` values. Which means that the next call to `callRemote()` with the same parameter value will be answered out of the cache, returning `null` and no remote call will be done.  This may be desired in some scenarios, but usually one wants to retry the remote call until it returns a result."
msgstr "Esta abordagem tem um efeito colateral infeliz: como dissemos antes, o Quarkus também pode armazenar em cache os valores de `null`. O que significa que a próxima chamada a `callRemote()` com o mesmo valor de parâmetro será respondida fora da cache, devolvendo `null` e nenhuma chamada remota será efectuada. Isto pode ser desejado nalguns cenários, mas normalmente o que se pretende é repetir a chamada remota até que esta devolva um resultado."

#. type: Title ===
#: upstream/_guides/cache.adoc:1011
#, fuzzy, no-wrap
msgid "Let exceptions bubble up"
msgstr "Deixar que as excepções se manifestem"

#. type: Plain text
#: upstream/_guides/cache.adoc:1015
#, fuzzy
msgid "To prevent the cache from caching (marker) results from a remote call, we need to let the exception bubble out of the called method and catch it at the caller side:"
msgstr "Para evitar que a cache armazene em cache (marcador) os resultados de uma chamada remota, temos de deixar a exceção sair do método chamado e apanhá-la no lado do chamador:"

#. type: Block title
#: upstream/_guides/cache.adoc:1016
#, fuzzy, no-wrap
msgid "With Exception bubbling up"
msgstr "Com a Exceção a borbulhar"

#. type: delimited block -
#: upstream/_guides/cache.adoc:1026
#, no-wrap
msgid ""
"   public void caller(int val) {\n"
"       try {\n"
"           Integer result = callRemote(val);  //<1>\n"
"           System.out.println(\"Result is \" + result);\n"
"       } catch (Exception e) {\n"
"           System.out.println(\"Got an exception\");\n"
"   }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:1029
#, no-wrap
msgid ""
"   @CacheResult(cacheName = \"foo\")\n"
"   public Integer callRemote(int val) throws Exception { // <2>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:1032
#, no-wrap
msgid ""
"      Integer val = remoteWebServer.getResult(val);  //<3>\n"
"      return val;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/cache.adoc:1034
#, no-wrap
msgid "   }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:1037
#, fuzzy
msgid "Exceptions may bubble up"
msgstr "As excepções podem surgir"

#. type: Plain text
#: upstream/_guides/cache.adoc:1038
#, fuzzy
msgid "This can throw all kinds of remote exceptions"
msgstr "Isto pode lançar todo o tipo de excepções remotas"

#. type: Plain text
#: upstream/_guides/cache.adoc:1043
#, fuzzy
msgid "When the call to the remote throws an exception, the cache does not store the result, so that a subsequent call to `callRemote()` with the same parameter value will not be answered out of the cache.  It will instead result in another attempt to call the remote."
msgstr "Quando a chamada para o controlo remoto lança uma exceção, a cache não armazena o resultado, pelo que uma chamada subsequente para `callRemote()` com o mesmo valor de parâmetro não será respondida a partir da cache. Em vez disso, resultará numa nova tentativa de chamar o controlo remoto."

#. type: Title ==
#: upstream/_guides/cache.adoc:1044
#, fuzzy, no-wrap
msgid "Going native"
msgstr "Tornar-se nativo"

#. type: Plain text
#: upstream/_guides/cache.adoc:1047
#, fuzzy
msgid "The Cache extension supports building native executables."
msgstr "A extensão Cache suporta a criação de executáveis nativos."

#. type: Plain text
#: upstream/_guides/cache.adoc:1051
#, fuzzy
msgid "However, to optimize runtime memory, Caffeine embarks many cache implementation classes that are selected depending on the cache configuration.  We are not registering all of them for reflection (and the ones not registered are not included into the native executables) as registering all of them would be very costly."
msgstr "No entanto, para otimizar a memória em tempo de execução, o Caffeine embarca muitas classes de implementação de cache que são seleccionadas dependendo da configuração da cache. Não estamos a registar todas elas para reflexão (e as que não estão registadas não são incluídas nos executáveis nativos), uma vez que o registo de todas elas seria muito dispendioso."

#. type: Plain text
#: upstream/_guides/cache.adoc:1053
#, fuzzy
msgid "We are registering the most common implementations but, depending on your cache configuration, you might encounter errors like:"
msgstr "Estamos a registar as implementações mais comuns mas, dependendo da sua configuração de cache, poderá encontrar erros como:"

#. type: delimited block -
#: upstream/_guides/cache.adoc:1064
#, no-wrap
msgid ""
"2021-12-08 02:32:02,108 ERROR [io.qua.run.Application] (main) Failed to start application (with profile prod): java.lang.ClassNotFoundException: com.github.benmanes.caffeine.cache.PSAMS <1>\n"
"        at java.lang.Class.forName(DynamicHub.java:1433)\n"
"        at java.lang.Class.forName(DynamicHub.java:1408)\n"
"        at com.github.benmanes.caffeine.cache.NodeFactory.newFactory(NodeFactory.java:111)\n"
"        at com.github.benmanes.caffeine.cache.BoundedLocalCache.<init>(BoundedLocalCache.java:240)\n"
"        at com.github.benmanes.caffeine.cache.SS.<init>(SS.java:31)\n"
"        at com.github.benmanes.caffeine.cache.SSMS.<init>(SSMS.java:64)\n"
"        at com.github.benmanes.caffeine.cache.SSMSA.<init>(SSMSA.java:43)\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:1066
#, fuzzy
msgid "`PSAMS` is one of the many cache implementation classes of Caffeine so this part may vary."
msgstr "`PSAMS` é uma das muitas classes de implementação de cache do Caffeine, pelo que esta parte pode variar."

#. type: Plain text
#: upstream/_guides/cache.adoc:1069
#, fuzzy
msgid "When you encounter this error, you can easily fix it by adding the following annotation to any of your application classes (or you can create a new class such as `Reflections` just to host this annotation if you prefer):"
msgstr "Quando encontrar este erro, pode corrigi-lo facilmente adicionando a seguinte anotação a qualquer uma das suas classes de aplicação (ou pode criar uma nova classe, como `Reflections`, apenas para alojar esta anotação, se preferir):"

#. type: delimited block -
#: upstream/_guides/cache.adoc:1073
#, no-wrap
msgid "@RegisterForReflection(classNames = { \"com.github.benmanes.caffeine.cache.PSAMS\" }) <1>\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/cache.adoc:1075
#, fuzzy
msgid "It is an array, so you can register several cache implementations in one go if your configuration requires several of them."
msgstr "Trata-se de uma matriz, pelo que pode registar várias implementações de cache de uma só vez se a sua configuração exigir várias."

#. type: Plain text
#: upstream/_guides/cache.adoc:1076
#, fuzzy
msgid "This annotation will register the cache implementation classes for reflection and this will include the classes into the native executable."
msgstr "Esta anotação registará as classes de implementação da cache para reflexão, o que incluirá as classes no executável nativo."
